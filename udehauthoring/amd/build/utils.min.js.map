{"version":3,"sources":["../src/utils.js"],"names":["id","toolBarOptions","window","tinymce","init","selector","menubar","plugins","toolbar","branding","remove","str","toString","replace","buttons","addingButtonsContainer","document","querySelectorAll","forEach","addingButtonContainer","dataset","fieldtype","removeAttribute","childNodes","child","type","classList","addingButtons","addingButton","button","initialRemoveButton","getElementById","firstElementChild","style","setProperty","currentIdContainer","isObj","elements","element","$","ready","children","on","event","stopPropagation","$card","closest","animate","scrollTop","offset","top","formContainer","inputs","input","add","anchor","anchorInput","createElement","setAttribute","appendChild","addedType","localStorage","getItem","readyState","toggleAccordionFromPhpAddition","addEventListener","activeElement","contains","setItem","name","substring","indexOf","container","i","length","getAttribute","includes","updateIcon","fileManagers","fileManager","valueForFormat","restrictions","querySelector","innerHTML","dictionnary","recommendedFormat","tryCounter","handleNewAccordionElement","collapsibleId","collapse","e","console","error","log","interval","setInterval","clearInterval","rows","forId","waitForAccordionIdWithInterval","currentElement","elementId","previousValue","newValue","isActive","src","newSrc"],"mappings":"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","sourcesContent":["import {dictionnary} from \"./language/format_udehauthoring_fr\";\n\nlet tryCounter = 0;\n\n/**\n * @param {string} id\n * @param {string} toolBarOptions\n */\nexport function initTinyMce(id, toolBarOptions) {\n    window.tinymce.init({\n        selector: 'textarea#' + id,\n        menubar: false,\n        plugins: 'lists',\n        toolbar: toolBarOptions,\n        branding: false\n    });\n}\n\n/**\n * @param {string} id\n */\nexport function removeTinyMce(id) {\n    window.tinymce.remove('#' + id);\n}\n\n/**\n * @param {String} str\n */\nexport function removeTags(str) {\n    if ((str === null) || (str === '')) {\n        return false;\n    } else {\n        str = str.toString();\n    }\n\n    return str.replace(/(<([^>]+)>)/ig, '');\n}\n\n/**\n * @param {Array} buttons\n */\nexport function prepareActionButton(buttons) {\n    let addingButtonsContainer = document.\n    querySelectorAll(\"[class='col-md-9 form-inline align-items-start felement']\");\n    if (addingButtonsContainer) {\n        addingButtonsContainer.forEach(function(addingButtonContainer) {\n            if (addingButtonContainer.dataset.fieldtype === 'button') {\n                addingButtonContainer.removeAttribute('class');\n                let childNodes = addingButtonContainer.childNodes;\n                childNodes.forEach(child => {\n                    if (child.type && child.type === 'button') {\n                        child.classList.remove('btn-secondary');\n                    }\n                });\n            }\n\n        });\n    }\n    let addingButtons = document.querySelectorAll(\"[class*='add_action_button']\");\n    if (addingButtons) {\n        addingButtons.forEach(function(addingButton) {\n            let childNodes = addingButton.childNodes;\n            childNodes.forEach(child => {\n                child.removeAttribute('class');\n            });\n        });\n    }\n\n    buttons.forEach(button => {\n        if (button.type === 0) {\n            let initialRemoveButton = document.getElementById('fitem_id_remove_' + button.id);\n            if (initialRemoveButton) {\n                initialRemoveButton.firstElementChild.style.setProperty(\"display\", \"none\", \"important\");\n            }\n        } else {\n            let initialRemoveButton = document.getElementById('fitem_id_add_' + button.id);\n            if (initialRemoveButton) {\n                initialRemoveButton.firstElementChild.style.setProperty(\"display\", \"none\", \"important\");\n            }\n        }\n    });\n}\n\n/**\n * @param {string} currentIdContainer\n * @param {int} isObj\n */\nexport function prepareAccordions(currentIdContainer, isObj = 0) {\n    let elements = null;\n    if (isObj === 1) {\n        elements = document.querySelectorAll('[class=\"row row-container mb-3\"]');\n    } else if (isObj === 2) {\n        elements = document.querySelectorAll('[class=\"row row-container-child mb-3\"]');\n    } else {\n        elements = document.querySelectorAll('[id^=' + currentIdContainer + ']');\n    }\n    elements.forEach(element => {\n        window.$(document).ready(function() {\n            window.$('#' + element.firstElementChild.children[1].id).on('shown.bs.collapse', function(event) {\n                event.stopPropagation();\n                let $card = window.$(this).closest('.card');\n                window.$('html,body').animate({\n                    scrollTop: $card.offset().top - 100\n                }, 250);\n            });\n        });\n    });\n}\n\n/**\n * @param {Object} element\n */\nexport function handleNewAccordionElement(element) {\n    tryCounter = tryCounter + 1;\n    window.$(document).ready(function() {\n        let collapsibleId = element.firstElementChild.children[1].getAttribute('id');\n        try {\n            window.$('#' + collapsibleId).collapse('toggle');\n            window.$('#' + collapsibleId).on('shown.bs.collapse', function() {\n                let $card = window.$(this).closest('.card');\n                window.$('html,body').animate({\n                    scrollTop: $card.offset().top - 100\n                }, 250);\n            });\n        } catch (e) {\n            if (tryCounter > 20) {\n                window.console.error('New accordeons can\\'t be handled, contact a dev.');\n                window.console.error('Error detail: ' + e);\n            } else {\n                window.console.log('got error handling new accordeon, will retry');\n                let interval = setInterval(function() {\n                    handleNewAccordionElement(element);\n                    clearInterval(interval);\n                }, 100);\n            }\n        }\n    });\n}\n\n/**\n *\n */\nexport function formatEditorAndFileManager() {\n    let formContainer = document.getElementById('udeh-form');\n    let inputs = formContainer.querySelectorAll('[class^=\"form-group row  fitem   \"]');\n    inputs.forEach(input => {\n        if (input.children[1].dataset.fieldtype === 'editor' || input.children[1].dataset.fieldtype === 'filemanager') {\n            input.classList.add('inline-element');\n            input.children[1].classList.add('inline-inner-element');\n        }\n    });\n}\n\n\n/**\n * @param {String} anchor\n */\nexport function appendAnchorToForm(anchor) {\n    let anchorInput = document.getElementById('anchor');\n    if (anchorInput === null) {\n        var input = document.createElement(\"input\");\n        input.setAttribute(\"type\", \"hidden\");\n        input.setAttribute(\"name\", \"anchor\");\n        input.setAttribute(\"id\", \"anchor\");\n        input.setAttribute(\"value\", anchor);\n        document.getElementById('form_container').appendChild(input);\n    } else {\n        anchorInput.setAttribute('value', anchor);\n    }\n}\n\n/**\n *\n */\nexport function getAndSetScrollPosition() {\n    let addedType = localStorage.getItem(\"added-type\");\n    if (addedType !== null && addedType !== 'null' && addedType !== undefined) {\n        if (document.readyState !== 'loading') {\n            toggleAccordionFromPhpAddition(addedType);\n        } else {\n            document.addEventListener('DOMContentLoaded', function() {\n                toggleAccordionFromPhpAddition(addedType);\n            });\n        }\n    }\n\n    window.addEventListener(\"beforeunload\", () => {\n        if (document.activeElement && document.activeElement.classList && document.activeElement.classList.contains('add-button')) {\n            localStorage.setItem(\"added-type\", document.activeElement.name.substring(document.activeElement.name.indexOf('_' + 1)));\n        } else {\n            localStorage.setItem(\"added-type\", null);\n        }\n    });\n}\n\n/**\n * @param {string} addedType\n */\nfunction toggleAccordionFromPhpAddition(addedType) {\n    let container = null;\n    let rows = null;\n    let forId = null;\n    if (addedType.includes('subquestion')) {\n        container = document.getElementById('section-subquestions-container');\n    } else {\n        forId = addedType.includes('resource') ? 'resources' : 'explorations';\n        container = document.getElementById('subquestion-' + forId + '-container');\n    }\n    rows = container.querySelectorAll('[class*=\"row-container\"]');\n    waitForAccordionIdWithInterval(rows[rows.length - 1]);\n}\n\n/**\n * @param {object} currentElement\n */\nfunction waitForAccordionIdWithInterval(currentElement) {\n    let elementId = null;\n    let interval = setInterval(function() {\n        elementId = currentElement.firstElementChild.children[1].getAttribute('id');\n        if (elementId.includes('_')) {\n            handleNewAccordionElement(currentElement);\n            clearInterval(interval);\n        }\n    }, 100);\n}\n\n/**\n * @param {String} id\n */\nexport function appendStyleToAnchorMenuSection(id) {\n    let container = document.getElementById('collapse-course-container');\n    for (let i = 0; i < container.children.length; i++) {\n        if (!(container.children[i].getAttribute('class').includes('disabled-menu-element'))) {\n            container.children[i].setAttribute('class', 'mb-3');\n            updateIcon(container.children[i], 'actif', 'passif');\n        }\n    }\n    let element = document.getElementById(id);\n    element.classList.add('active-menu-element');\n    updateIcon(element, 'passif', 'actif', true);\n}\n\n/**\n * @param {Object} element\n * @param {String} previousValue\n * @param {String} newValue\n * @param {Boolean} isActive\n */\nfunction updateIcon(element, previousValue, newValue, isActive = false) {\n    let src = element.firstElementChild.firstElementChild.getAttribute('src');\n    if (src && src.includes(previousValue)) {\n        let newSrc = src.replace(previousValue, newValue);\n        element.firstElementChild.firstElementChild.setAttribute('src', newSrc);\n        element.setAttribute('onmouseout', 'this.firstElementChild.firstElementChild.setAttribute(\"src\", \"' + newSrc + '\")');\n    }\n    if (isActive) {\n        element.firstElementChild.setAttribute('class', 'active');\n    } else {\n        element.firstElementChild.removeAttribute('class');\n    }\n}\n\n/**\n *\n */\nexport function appendSizeToFileManager() {\n    let fileManagers = document.querySelectorAll('[id*=\"vignette\"]');\n    if (fileManagers) {\n        fileManagers.forEach(fileManager => {\n            if (fileManager.classList.contains('form-group')) {\n                let valueForFormat = '';\n                if (fileManager.getAttribute('id').includes('resource')) {\n                    valueForFormat = '125 x 180';\n                } else {\n                    valueForFormat = '364 x 215';\n                }\n                let restrictions = fileManager.querySelector('.fp-restrictions');\n                restrictions.firstElementChild.innerHTML =\n                    restrictions.firstElementChild.innerHTML + ', ' + dictionnary.recommendedFormat + valueForFormat;\n            }\n        });\n    }\n}"],"file":"utils.min.js"}