define ("format_udehauthoring/helper",["exports","./moduleHelper","./objectiveHelper","./utils","./evaluationHelper","./courseHelper"],function(a,b,c,d,e,f){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.init=function(){g();window.addEventListener("hashchange",function(){g()})};a.fillForm=function(a){h(a);window.addEventListener("hashchange",function(){h(a)})};a.exportCourse=function(a){var b=document.getElementById("publishCourse");b.addEventListener("click",function(){window.$.ajax({type:"POST",url:"../handlers/ajax_export_handler.php",data:{courseId:a},success:function success(){location.reload()},error:function error(){window.console.log("failure")}})});var c=document.getElementById("publishFlushCourse");c.addEventListener("click",function(){window.$.ajax({type:"POST",url:"../handlers/ajax_export_handler.php",data:{courseId:a,flush:"flush"},success:function success(){location.reload()},error:function error(){window.console.log("failure")}})})};a.publishCoursePlan=function(a){var b=document.getElementById("publishCoursePlan");b.addEventListener("click",function(){window.open("../handlers/pdf_syllabus_handler.php?courseId="+a[1])})};function g(){(0,d.formatEditorAndFileManager)();var a=window.location.pathname.lastIndexOf("/"),g=window.location.pathname.substring(a+1),h=window.location.href.includes("#")?window.location.href.substring(window.location.href.lastIndexOf("#")+1):"displayable-form-informations-container";if(g.includes("course")){(0,d.appendAnchorToForm)(h);if("displayable-form-objectives-container"===h){(0,c.initObjectives)();(0,d.appendStyleToAnchorMenuSection)("item-teachingobjectives")}else if("displayable-form-sections-container"===h){(0,b.initModules)();(0,d.appendStyleToAnchorMenuSection)("item-coursesections")}else if("displayable-form-evaluations-container"===h){(0,e.initEvaluations)();(0,d.appendStyleToAnchorMenuSection)("item-learningevaluations")}else{(0,f.initCourse)();(0,d.appendStyleToAnchorMenuSection)("item-generalinformations")}}}function h(a){var f=window.location.pathname.lastIndexOf("/"),g=window.location.pathname.substring(f+1),h=window.location.href.includes("#")?window.location.href.substring(window.location.href.lastIndexOf("#")+1):"displayable-form-informations-container";if(g.includes("course")){var i=null,j=JSON.parse(a);window.$.ajax({type:"POST",url:"../handlers/ajax_course_handler.php",data:{courseId:j.courseId},success:function success(a){i=JSON.parse(a);if("displayable-form-objectives-container"===h){(0,c.fillFormObjectives)(i.data.teachingobjectives)}else if("displayable-form-sections-container"===h){(0,b.fillFormModules)(i.data.sections)}else if("displayable-form-evaluations-container"===h){(0,e.fillFormEvaluations)(i.data.evaluations,i.data.sections)}(0,d.formatEditorAndFileManager)()},error:function error(){window.console.log("failure")}})}}});
//# sourceMappingURL=helper.min.js.map
