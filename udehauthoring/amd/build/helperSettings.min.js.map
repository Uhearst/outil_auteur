{"version":3,"sources":["../src/helperSettings.js"],"names":["fetchData","initRequest","initAccordions","initActions","unitCounter","unitsconfig","window","$","ajax","type","url","success","response","parsedResponse","JSON","parse","data","length","forEach","unitconfig","index","addUnit","value","error","console","log","document","getElementById","addEventListener","e","preventDefault","unitContainer","units","firstElementChild","querySelectorAll","unitArray","unit","val","children","push","submit","addIssueNotification","addButton","querySelector","event","isButton","target","nodeName","parentNode","stopImmediatePropagation","element","id","includes","hidden","unitContnainer","substring","lastIndexOf","removeUnit","x","buildUnit","container","appendChild","initialUnit","newElem","cloneNode","style","margin","setAttribute","innerHTML","removeAttribute","contentContainer","createElement","deleteContainer","button","icon","remove","updateExistingUnits","currentIndex","unitsArray","instructionsArray","courseInfoArray","objectivesArray","modulesArray","evaluationsArray","subquestionsArray","explorationsArray","resourcesArray","fieldset","getElementsByTagName","rows","getElementsByClassName","i","unitsAccordion","buildAccordion","instructionsAccordion","infoAccordion","objectivesAccordion","sectionAccordion","evaluationAccordion","subquestionAccordion","explorationAccordion","reesourceAccordion","buttonContainer","unitsContainer","toggableId","headerLabel","inputs","accordionContainer","headerContainer","header","content","input","alertContainer","notificationContainer","animate","scrollTop"],"mappings":"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","sourcesContent":["let unitCounter = 0;\n\n/**\n *\n */\nexport function init() {\n    fetchData();\n    initRequest();\n    initAccordions();\n    initActions();\n}\n\n/**\n *\n */\nfunction fetchData() {\n    let unitsconfig = [];\n\n    window.$.ajax(\n        {\n            type: \"GET\",\n            url: \"../course/format/udehauthoring/handlers/ajax_unit_fetch_handler.php\",\n            success: function(response) {\n                let parsedResponse = JSON.parse(response);\n                unitsconfig = parsedResponse.data;\n                if (unitsconfig !== [] && unitsconfig.length > 1) {\n                    unitsconfig.forEach(function(unitconfig, index) {\n                        if (index > 0) {\n                            addUnit(unitconfig.value);\n                        }\n                    });\n                }\n            },\n            error: function() {\n                window.console.log('failure');\n            }\n        });\n}\n\n/**\n *\n */\nfunction initRequest() {\n    document.getElementById('adminsettings').addEventListener(\"submit\", function(e) {\n        e.preventDefault();\n        let unitContainer = document.getElementById('setting_units');\n        let units = unitContainer.firstElementChild.querySelectorAll('[id^=\"admin-udeh_unit_\"]');\n        let unitArray = [];\n        units.forEach(function(unit, index) {\n            if (index > 0) {\n                let val = unit.children[0].children[1].children[0].children[0].value;\n                if (val) {\n                    unitArray.push(val);\n                }\n            } else {\n                let val = unit.children[1].children[0].children[0].value;\n                if (val) {\n                    unitArray.push(val);\n                }\n            }\n        });\n        window.$.ajax(\n            {\n                type: \"POST\",\n                url: \"../course/format/udehauthoring/handlers/ajax_unit_handler.php\",\n                data: {\n                    units: unitArray,\n                },\n                success: function(response) {\n                    let parsedResponse = JSON.parse(response);\n                    if (parsedResponse.success == \"1\") {\n                        window.$('#adminsettings').submit();\n                    } else {\n                        addIssueNotification();\n                        window.$('#adminsettings').submit();\n                    }\n                },\n                error: function() {\n                    addIssueNotification();\n                    window.$('#adminsettings').submit();\n                }\n            });\n    });\n}\n\n/**\n *\n */\nfunction initActions() {\n    let addButton = document.querySelector('#id_add_unit');\n    addButton.addEventListener('click', event => {\n        const isButton = event.target.nodeName === 'BUTTON'\n            || (event.target.nodeName === 'I' && event.target.parentNode && event.target.parentNode.nodeName === 'BUTTON');\n        if (!isButton) {\n            return;\n        } else {\n            event.stopImmediatePropagation();\n            let element = null;\n            if (event.target.nodeName === 'I') {\n                element = event.target.parentNode;\n            } else {\n                element = event.target;\n            }\n            if (element && element.id.includes('unit') && element.hidden === false) {\n                addUnit();\n            } else {\n                return;\n            }\n        }\n    });\n\n    let unitContnainer = document.getElementById('setting_units');\n    unitContnainer.firstElementChild.addEventListener('click', event => {\n        const isButton = event.target.nodeName === 'BUTTON'\n            || (event.target.nodeName === 'I'\n                && event.target.parentNode && event.target.parentNode.nodeName === 'BUTTON');\n        if (!isButton) {\n            return;\n        } else {\n            let element = null;\n            if (event.target.nodeName === 'I') {\n                element = event.target.parentNode;\n            } else {\n                element = event.target;\n            }\n            if (element && element.id.includes('unit') && element.hidden === false) {\n                if (element.id.includes('remove')) {\n                    let id = element.id.substring(element.id.lastIndexOf('_') + 1);\n                    removeUnit(id);\n                }\n            } else {\n                return;\n            }\n        }\n    });\n}\n\n/**\n * @param {String} value\n */\nfunction addUnit(value = null) {\n    let x = buildUnit(value);\n    let container = document.getElementById('setting_units');\n    container.firstElementChild.appendChild(x);\n}\n\n/**\n * @param {String} value\n */\nfunction buildUnit(value = null) {\n    unitCounter = unitCounter + 1;\n    let initialUnit = document.getElementById('admin-udeh_unit_0');\n    let newElem = initialUnit.cloneNode(true);\n\n    newElem.id = 'admin-udeh_unit_' + unitCounter;\n    newElem.style.margin = '0 0 0 1rem';\n    newElem.firstElementChild.firstElementChild.setAttribute('for', 'id_s__udeh_unit_' + unitCounter);\n    newElem.firstElementChild.children[1].innerHTML = 'udeh_unit_' + unitCounter;\n\n    newElem.children[1].removeAttribute('id');\n    newElem.children[1].firstElementChild.removeAttribute('id');\n    newElem.children[1].firstElementChild.firstElementChild.setAttribute('id', 'id_s__udeh_unit_' + unitCounter);\n    newElem.children[1].firstElementChild.firstElementChild.setAttribute('name', 's__udeh_unit_' + unitCounter);\n    if (value === null) {\n        newElem.children[1].firstElementChild.firstElementChild.setAttribute('value', '');\n        newElem.children[1].firstElementChild.firstElementChild.value = '';\n    } else {\n        newElem.children[1].firstElementChild.firstElementChild.setAttribute('value', value);\n    }\n\n    let contentContainer = document.createElement('div');\n    contentContainer.setAttribute('class', 'col-11 row');\n    let deleteContainer = document.createElement('div');\n    deleteContainer.setAttribute('class', 'col-1');\n\n    contentContainer.appendChild(newElem.children[0]);\n    contentContainer.appendChild(newElem.children[0]);\n\n    newElem.appendChild(contentContainer);\n\n    let button = document.createElement('button');\n    let icon = document.createElement(\"i\");\n\n    button.setAttribute('class', 'btn remove-button');\n    button.setAttribute('name', 'remove_unit_' + unitCounter);\n    button.setAttribute('id', 'id_remove_unit_' + unitCounter);\n    button.setAttribute('type', 'button');\n\n    icon.setAttribute('class', 'remove-button-js fa fa-minus-circle fa-2x');\n    button.appendChild(icon);\n    deleteContainer.appendChild(button);\n    newElem.appendChild(deleteContainer);\n\n    return newElem;\n}\n\n/**\n * @param {string} index\n */\nfunction removeUnit(index) {\n    let unit = document.getElementById('admin-udeh_unit_' + index);\n    unit.remove();\n    updateExistingUnits(index);\n    unitCounter = unitCounter - 1;\n\n}\n\n/**\n * @param {string} index\n */\nfunction updateExistingUnits(index) {\n    let units = document.querySelectorAll('[id^=\"admin-udeh_unit_\"]');\n    units.forEach(unit => {\n        if (unit.id.substring(unit.id.lastIndexOf('_') + 1) > index) {\n            let currentIndex = unit.id.substring(unit.id.lastIndexOf('_') + 1);\n            unit.id = \"admin-udeh_unit_\" + (currentIndex - 1);\n            unit.firstElementChild.firstElementChild.firstElementChild.setAttribute('for', 'id_s__udeh_unit_' + (currentIndex - 1));\n            unit.firstElementChild.firstElementChild.children[1].innerHTML = \"udeh_unit_\" + (currentIndex - 1);\n\n            unit.firstElementChild.children[1].firstElementChild.firstElementChild\n                .setAttribute('name', 's__udeh_unit_' + (currentIndex - 1));\n            unit.firstElementChild.children[1].firstElementChild.firstElementChild\n                .setAttribute('id', 'id_s__udeh_unit_' + (currentIndex - 1));\n\n            unit.children[1].firstElementChild.setAttribute('id', 'id_remove_unit_' + (currentIndex - 1));\n            unit.children[1].firstElementChild.setAttribute('name', 'remove_unit_' + (currentIndex - 1));\n        }\n    });\n}\n\n\n/**\n *\n */\nfunction initAccordions() {\n    let unitsArray = [];\n    let instructionsArray = [];\n    let courseInfoArray = [];\n    let objectivesArray = [];\n    let modulesArray = [];\n    let evaluationsArray = [];\n    let subquestionsArray = [];\n    let explorationsArray = [];\n    let resourcesArray = [];\n    let fieldset = document.getElementsByTagName('fieldset');\n    let rows = fieldset[0].getElementsByClassName('form-item row');\n    for (let i = 0; i < rows.length; i++) {\n        if (rows[i].id.includes('udeh_unit')) {\n            unitsArray.push(rows[i]);\n        } else if (rows[i].id.includes('udeh_instructions')) {\n            instructionsArray.push(rows[i]);\n        } else if (rows[i].id.includes('udeh_course')) {\n            courseInfoArray.push(rows[i]);\n        } else if (rows[i].id.includes('udeh_teaching') || rows[i].id.includes('udeh_learning')) {\n            objectivesArray.push(rows[i]);\n        } else if (rows[i].id.includes('udeh_section')) {\n            modulesArray.push(rows[i]);\n        } else if (rows[i].id.includes('udeh_evaluation')) {\n            evaluationsArray.push(rows[i]);\n        } else if (rows[i].id.includes('udeh_subquestion')) {\n            subquestionsArray.push(rows[i]);\n        } else if (rows[i].id.includes('udeh_exploration')) {\n            explorationsArray.push(rows[i]);\n        } else if (rows[i].id.includes('udeh_resource')) {\n            resourcesArray.push(rows[i]);\n        }\n    }\n\n    let unitsAccordion = buildAccordion(\n        'setting_units',\n        'Unités d\\'enseignements',\n        unitsArray);\n    let instructionsAccordion = buildAccordion(\n        'setting_instructions',\n        'Instructions de page',\n        instructionsArray);\n    let infoAccordion = buildAccordion(\n        'setting_course_informations',\n        'Informations générales du cours',\n        courseInfoArray);\n    let objectivesAccordion = buildAccordion(\n        'setting_objectives',\n        'Objectifs',\n        objectivesArray);\n    let sectionAccordion = buildAccordion(\n        'setting_sections',\n        'Modules',\n        modulesArray);\n    let evaluationAccordion = buildAccordion(\n        'setting_evaluations',\n        'Evaluations',\n        evaluationsArray);\n    let subquestionAccordion = buildAccordion(\n        'setting_subquestions',\n        'Trames',\n        subquestionsArray);\n    let explorationAccordion = buildAccordion(\n        'setting_explorations',\n        'Explorations',\n        explorationsArray);\n    let reesourceAccordion = buildAccordion(\n        'setting_resources',\n        'Ressources',\n        resourcesArray);\n\n    fieldset[0].appendChild(unitsAccordion);\n    fieldset[0].appendChild(instructionsAccordion);\n    fieldset[0].appendChild(infoAccordion);\n    fieldset[0].appendChild(objectivesAccordion);\n    fieldset[0].appendChild(sectionAccordion);\n    fieldset[0].appendChild(evaluationAccordion);\n    fieldset[0].appendChild(subquestionAccordion);\n    fieldset[0].appendChild(explorationAccordion);\n    fieldset[0].appendChild(reesourceAccordion);\n\n    let buttonContainer = document.createElement('div');\n    buttonContainer.setAttribute('data-fieldtype', 'button');\n    let button = document.createElement('button');\n    let icon = document.createElement(\"i\");\n    icon.setAttribute('class', 'add-button fa fa-plus-circle fa-2x');\n    button.setAttribute('class', 'btn ml-0 unit-btn');\n    button.setAttribute('name', 'add_unit');\n    button.setAttribute('type', 'button');\n    button.setAttribute('id', 'id_' + 'add_unit');\n\n    let unitsContainer = document.getElementById('setting_units');\n    button.appendChild(icon);\n    buttonContainer.appendChild(button);\n    unitsContainer.appendChild(buttonContainer);\n}\n\n\n/**\n * @param {string} toggableId\n * @param {string} headerLabel\n * @param {array} inputs\n */\nfunction buildAccordion(toggableId, headerLabel, inputs) {\n    let accordionContainer = document.createElement('div');\n    let headerContainer = document.createElement('div');\n    let header = document.createElement('a');\n    let contentContainer = document.createElement('div');\n    let content = document.createElement('div');\n\n    header.setAttribute('data-toggle', 'collapse');\n    header.setAttribute('href', '#' + toggableId);\n    header.setAttribute('role', 'button');\n    header.setAttribute('aria-expanded', 'false');\n    header.setAttribute('class', 'collapsed');\n    header.setAttribute('aria-controls', toggableId);\n    header.innerHTML = headerLabel;\n\n    contentContainer.setAttribute('class', 'collapse mb-3');\n    contentContainer.setAttribute('id', toggableId);\n\n    content.setAttribute('class', 'card card-body p-3');\n    inputs.forEach(input => {\n        content.appendChild(input);\n    });\n\n    accordionContainer.setAttribute('class', 'setting_container');\n    headerContainer.setAttribute('class', 'setting-header');\n    headerContainer.appendChild(header);\n    contentContainer.appendChild(content);\n    accordionContainer.appendChild(headerContainer);\n    accordionContainer.appendChild(contentContainer);\n    return accordionContainer;\n}\n\n/**\n *\n */\nfunction addIssueNotification() {\n    let alertContainer = document.createElement('div');\n\n    let notificationContainer = document.getElementById('user-notifications');\n\n    alertContainer.setAttribute('class', 'alert alert-danger alert-block fade in ');\n    alertContainer.setAttribute('role', 'alert');\n    alertContainer.innerHTML = 'Une erreur est apparue lors de la sauvegarde des unités d\\'évaluations. ' +\n        'Le reste des configurations sera sauvegardé.';\n    notificationContainer.appendChild(alertContainer);\n    window.$('html, body').animate({scrollTop: 0}, 'fast');\n}"],"file":"helperSettings.min.js"}