{"version":3,"sources":["../src/evaluationHelper.js"],"names":["queryString","window","location","search","urlParams","URLSearchParams","$","ajax","type","url","data","courseId","get","success","response","parsedResponse","JSON","parse","learningObjectives","error","console","log","modules","Module","push","formContainer","document","getElementById","addEventListener","event","isButton","target","nodeName","parentNode","element","id","includes","hidden","charAt","length","removeEvaluation","stopImmediatePropagation","addButton","querySelector","addEvaluation","addingButtonsContainer","querySelectorAll","forEach","addingButtonContainer","dataset","fieldtype","removeAttribute","childNodes","child","classList","remove","addingButtons","addingButton","disableEvaluationDeleteButton","counterEvaluations","title","x","buildEvaluation","container","insertBefore","updateAddEvaluationButton","index","evaluation","updateExistingEvaluations","updateRemoveEvaluationButton","rowEvaluationContainer","createElement","colEvaluationContainer","colButtonContainer","setAttribute","header","buildEvaluationHeader","content","buildEvaluationContent","appendChild","button","buildEvaluationButton","headerContainer","linkForCollapseDiv","innerHTML","contentContainer","collapseDiv","buildEditorContainer","dictionnary","evaluationTitle","description","evaluationDescription","weight","buildInputContainer","evaluationWeight","buildCheckboxContainer","associatedLearningObjective","module","buildSelectContainer","labelText","fieldContainer","labelContainer","label","editorContainer","editor","buildTinyMCE","inputContainer","input","labelField","parent","Array","isArray","learningobjectives","obj","subContainer","checkBoxContainer","checkBoxSubContainer","checkbox","hiddenCheckbox","labelCheckbox","learningobjective","selectContainer","select","associatedModule","buildOption","option","evaluationIndex","inputContainerDiv","buttonContainer","buttonElement","icon","evaluations","buttons","buttonElm","addEvaluationButtonContainer","addEvaluationButtonText","currentIndex","firstElementChild","collapsible","updateEditorAndLabel","toolbarOptions","titleContainer","labelTitle","editorTitle","fillFormCommonPart","value","learningobjectiveids","learningObjectiveElement","audehlearningobjectiveid","checked","audehsectionid","buildIdHiddenInput","counter","waitWithInterval","toAppend","timereditable","setInterval","clearInterval","fillFormEvaluations","moduleslist","i"],"mappings":"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","sourcesContent":["import {initTinyMce, prepareActionButton, removeTags, removeTinyMce} from \"./utils\";\nimport {dictionnary} from \"./language/format_udehauthoring_fr\";\n\nlet counterEvaluations = 0;\nlet modules = [];\nlet learningObjectives = [];\n\nclass Module {\n    constructor(title, id) {\n        this.title = title;\n        this.id = id;\n    }\n}\n\n/**\n *\n */\nfunction addEvaluation() {\n    let x = buildEvaluation();\n    let container = document.getElementById('displayable-form-evaluations-container');\n    container.insertBefore(x, document.getElementById('evaluation-add-container'));\n    updateAddEvaluationButton();\n    disableEvaluationDeleteButton();\n    initTinyMce('id_evaluation_title_' + counterEvaluations, 'superscript subscript | undo redo');\n    initTinyMce('id_evaluation_description_' + counterEvaluations,\n        'bold italic | numlist bullist | underline strikethrough superscript subscript | undo redo');\n}\n\n/**\n * @param {string} index\n */\nfunction removeEvaluation(index) {\n    let evaluation = document.getElementById('row_course_evaluation_container_' + index);\n    removeTinyMce(\"id_evaluation_title_\" + index);\n    removeTinyMce(\"id_evaluation_description_\" + index);\n\n    evaluation.remove();\n    updateExistingEvaluations(index);\n    updateAddEvaluationButton();\n    disableEvaluationDeleteButton();\n    updateRemoveEvaluationButton();\n    counterEvaluations = counterEvaluations - 1;\n}\n\n/**\n *\n */\nfunction buildEvaluation() {\n    counterEvaluations = counterEvaluations + 1;\n    let rowEvaluationContainer = document.createElement(\"div\");\n    let colEvaluationContainer = document.createElement(\"div\");\n    let colButtonContainer = document.createElement(\"div\");\n\n    rowEvaluationContainer.setAttribute('class', 'row row-container mb-3');\n    rowEvaluationContainer.setAttribute('id', 'row_course_evaluation_container_' + counterEvaluations);\n    colEvaluationContainer.setAttribute('class', 'col-11 accordion-container card');\n    colButtonContainer.setAttribute('class', 'col-1 remove_evaluation_action_button');\n\n    let header = buildEvaluationHeader();\n    let content = buildEvaluationContent();\n    colEvaluationContainer.appendChild(header);\n    colEvaluationContainer.appendChild(content);\n\n    let button = buildEvaluationButton();\n    colButtonContainer.appendChild(button);\n\n    rowEvaluationContainer.appendChild(colEvaluationContainer);\n    rowEvaluationContainer.appendChild(colButtonContainer);\n\n    return rowEvaluationContainer;\n}\n\n/**\n *\n */\nfunction buildEvaluationHeader() {\n    let headerContainer = document.createElement(\"div\");\n    let linkForCollapseDiv = document.createElement('a');\n\n    headerContainer.setAttribute('class', 'accordion-header card-header');\n    headerContainer.setAttribute('id', 'course_evaluation_header_' + (counterEvaluations));\n\n    linkForCollapseDiv.setAttribute('data-toggle', 'collapse');\n    linkForCollapseDiv.setAttribute('href', '#collapse_evaluation_' + (counterEvaluations));\n    linkForCollapseDiv.setAttribute('role', 'button');\n    linkForCollapseDiv.setAttribute('aria-expanded', 'false');\n    linkForCollapseDiv.setAttribute('aria-controls', 'collapse_evaluation_' + (counterEvaluations));\n    linkForCollapseDiv.setAttribute('class', 'collapsed');\n    linkForCollapseDiv.innerHTML = 'Evaluation ' + (counterEvaluations + 1);\n\n    headerContainer.appendChild(linkForCollapseDiv);\n\n    return headerContainer;\n}\n\n/**\n *\n */\nfunction buildEvaluationContent() {\n    let contentContainer = document.createElement(\"div\");\n    let collapseDiv = document.createElement(\"div\");\n\n    collapseDiv.setAttribute('class', 'collapse');\n    collapseDiv.setAttribute('id', 'collapse_evaluation_' + (counterEvaluations));\n    collapseDiv.setAttribute('data-parent', '#displayable-form-evaluations-container');\n\n    contentContainer.setAttribute('class', 'card-body accordion-content');\n    contentContainer.setAttribute('id', 'course_evaluation_content_' + (counterEvaluations));\n\n    let title = buildEditorContainer('evaluation_title', dictionnary.evaluationTitle);\n    let description = buildEditorContainer('evaluation_description', dictionnary.evaluationDescription);\n    let weight = buildInputContainer('evaluation_weight', dictionnary.evaluationWeight);\n    let learningObjectives = buildCheckboxContainer('evaluation_learning_objectives',\n        dictionnary.associatedLearningObjective);\n    let module = buildSelectContainer();\n\n    contentContainer.appendChild(title);\n    contentContainer.appendChild(description);\n    contentContainer.appendChild(weight);\n    contentContainer.appendChild(learningObjectives);\n    contentContainer.appendChild(module);\n    collapseDiv.appendChild(contentContainer);\n\n    return collapseDiv;\n}\n\n/**\n * @param {string} id\n * @param {string} labelText\n */\nfunction buildEditorContainer(id, labelText) {\n    let fieldContainer = document.createElement(\"div\");\n    let labelContainer = document.createElement(\"div\");\n    let label = document.createElement(\"label\");\n    let editorContainer = document.createElement(\"div\");\n\n\n    fieldContainer.setAttribute('class', 'form-group row  fitem   tiny-editor');\n    fieldContainer.setAttribute('id', 'fitem_id_' + id + '_' + counterEvaluations);\n\n    labelContainer.setAttribute('class', 'col-md-3 col-form-label d-flex pb-0 pr-md-0');\n\n    label.setAttribute('class', 'd-inline word-break');\n    label.setAttribute('for', 'id_' + id + '_' + counterEvaluations);\n    label.innerHTML = labelText;\n\n    editorContainer.setAttribute('class', 'col-md-9 align-items-start felement');\n    editorContainer.setAttribute('data-fieldtype', 'editor');\n\n    let editor = buildTinyMCE(id, counterEvaluations);\n\n    editorContainer.appendChild(editor);\n    labelContainer.appendChild(label);\n\n    fieldContainer.appendChild(labelContainer);\n    fieldContainer.appendChild(editorContainer);\n\n    return fieldContainer;\n}\n\n/**\n * @param {string} id\n * @param {string} labelText\n */\nfunction buildInputContainer(id, labelText) {\n    let fieldContainer = document.createElement(\"div\");\n    let labelContainer = document.createElement(\"div\");\n    let label = document.createElement(\"label\");\n    let inputContainer = document.createElement(\"div\");\n    let input = document.createElement(\"input\");\n\n\n    fieldContainer.setAttribute('class', 'form-group row  fitem   ');\n    fieldContainer.setAttribute('id', 'fitem_id_' + id + '_' + counterEvaluations);\n\n    labelContainer.setAttribute('class', 'col-md-3 col-form-label d-flex pb-0 pr-md-0');\n\n    label.setAttribute('class', 'd-inline word-break');\n    label.setAttribute('for', 'id_' + id + '_' + counterEvaluations);\n    label.innerHTML = labelText;\n\n    inputContainer.setAttribute('class', 'col-md-9 form-inline align-items-start felement');\n    inputContainer.setAttribute('data-fieldtype', 'text');\n\n    input.setAttribute('type', 'text');\n    input.setAttribute('class', 'form-control');\n    input.setAttribute('name', id + '_' + counterEvaluations);\n    input.setAttribute('id', 'id_' + id + '_' + counterEvaluations);\n\n    inputContainer.appendChild(input);\n    labelContainer.appendChild(label);\n\n    fieldContainer.appendChild(labelContainer);\n    fieldContainer.appendChild(inputContainer);\n\n    return fieldContainer;\n}\n\n/**\n * @param {string} id\n * @param {string} labelText\n */\nfunction buildCheckboxContainer(id, labelText) {\n    let fieldContainer = document.createElement(\"div\");\n    let labelField = document.createElement(\"p\");\n\n    fieldContainer.setAttribute('id', 'fitem_id_' + id + '_' + counterEvaluations);\n    labelField.innerHTML = labelText;\n    fieldContainer.appendChild(labelField);\n\n    learningObjectives.forEach(parent => {\n        let element = null;\n        if(Array.isArray(parent)) {\n            element = parent;\n        } else {\n            element = parent.learningobjectives;\n        }\n        element.forEach(obj => {\n            let labelContainer = document.createElement(\"div\");\n            let subContainer = document.createElement(\"div\");\n            let checkBoxContainer = document.createElement(\"div\");\n            let checkBoxSubContainer = document.createElement(\"div\");\n            let checkbox = document.createElement(\"input\");\n            let hiddenCheckbox = document.createElement(\"input\");\n            let labelCheckbox = document.createElement(\"label\");\n\n            subContainer.setAttribute('class', 'form-group row  fitem  ');\n\n            labelContainer.setAttribute('class', 'col-md-3');\n            checkBoxContainer.setAttribute('class', 'col-md-9 checkbox');\n\n            checkBoxSubContainer.setAttribute('class', 'form-check d-flex');\n\n            hiddenCheckbox.setAttribute('type', 'hidden');\n            // eslint-disable-next-line max-len\n            hiddenCheckbox.setAttribute('name', id + '_' + counterEvaluations + '[' + obj.id + ']');\n            hiddenCheckbox.setAttribute('value', '0');\n\n            checkbox.setAttribute('type', 'checkbox');\n            checkbox.setAttribute('class', 'form-check-input ');\n            // eslint-disable-next-line max-len\n            checkbox.setAttribute('name', id + '_' + counterEvaluations + '[' + obj.id + ']');\n            checkbox.setAttribute('id', 'id_' + id + '_' + counterEvaluations + '_' + obj.id);\n            checkbox.setAttribute('value', '1');\n\n            labelCheckbox.setAttribute('for', 'id_' + id + '_' + counterEvaluations);\n            labelCheckbox.innerHTML = removeTags(obj.learningobjective);\n\n            checkBoxSubContainer.appendChild(hiddenCheckbox);\n            checkBoxSubContainer.appendChild(checkbox);\n            checkBoxSubContainer.appendChild(labelCheckbox);\n            checkBoxContainer.appendChild(checkBoxSubContainer);\n\n            subContainer.appendChild(labelContainer);\n            subContainer.appendChild(checkBoxContainer);\n\n            fieldContainer.appendChild(subContainer);\n        });\n    });\n\n    return fieldContainer;\n}\n\n/**\n *\n */\nfunction buildSelectContainer() {\n    let fieldContainer = document.createElement(\"div\");\n    let labelContainer = document.createElement('div');\n    let selectContainer = document.createElement('div');\n    let label = document.createElement('label');\n    let select = document.createElement('select');\n\n    fieldContainer.setAttribute('id', \"fitem_id_evaluation_module_\" + counterEvaluations);\n    fieldContainer.setAttribute('class', \"form-group row  fitem   \");\n\n    labelContainer.setAttribute('class', \"col-md-3 col-form-label d-flex pb-0 pr-md-0\");\n\n    label.setAttribute('class', 'd-inline word-break ');\n    label.setAttribute('for', 'id_evaluation_module_' + counterEvaluations);\n    label.innerHTML = dictionnary.associatedModule;\n\n    selectContainer.setAttribute('class', 'col-md-9 form-inline align-items-start felement');\n    selectContainer.setAttribute('data-fieldtype', 'select');\n\n    select.setAttribute('class', 'custom-select');\n    select.setAttribute('name', 'evaluation_module_' + counterEvaluations);\n    select.setAttribute('id', 'id_evaluation_module_' + counterEvaluations);\n\n    modules.forEach(module => {\n        select.appendChild(buildOption(module));\n    });\n\n    labelContainer.appendChild(label);\n    selectContainer.appendChild(select);\n    fieldContainer.appendChild(labelContainer);\n    fieldContainer.appendChild(selectContainer);\n\n    return fieldContainer;\n}\n\n/**\n * @param {object} module\n */\nfunction buildOption(module) {\n    let option = document.createElement('option');\n    option.setAttribute('value', module.id);\n    option.innerHTML = module.title;\n    return option;\n}\n\n/**\n * @param {string} target\n * @param {string} evaluationIndex\n */\nfunction buildTinyMCE(target, evaluationIndex) {\n    let inputContainerDiv = document.createElement(\"textarea\");\n    inputContainerDiv.setAttribute('class', 'custom-editor');\n    inputContainerDiv.setAttribute('id', 'id_' + target + '_' + evaluationIndex);\n    inputContainerDiv.setAttribute('name', target + '_' + evaluationIndex);\n    return inputContainerDiv;\n}\n\n/**\n *\n */\nfunction buildEvaluationButton() {\n    let rowEvaluationContainer = document.createElement(\"div\");\n    let buttonContainer = document.createElement(\"div\");\n    let buttonElement = document.createElement(\"button\");\n    let icon = document.createElement(\"i\");\n\n    rowEvaluationContainer.setAttribute('id', 'fitem_id_remove_evaluation_' + counterEvaluations);\n\n    buttonContainer.setAttribute('data-fieldtype', 'button');\n\n    buttonElement.setAttribute('class', 'btn ml-0');\n    buttonElement.setAttribute('name', 'remove_evaluation_' + counterEvaluations);\n    buttonElement.setAttribute('id', 'id_remove_evaluation_' + counterEvaluations);\n    buttonElement.setAttribute('type', 'button');\n\n    icon.setAttribute('class', 'remove-button-js fa fa-minus-circle fa-2x');\n\n    buttonElement.appendChild(icon);\n    buttonContainer.appendChild(buttonElement);\n    rowEvaluationContainer.appendChild(buttonContainer);\n\n    return rowEvaluationContainer;\n}\n\n/**\n *\n */\nfunction disableEvaluationDeleteButton() {\n    let evaluations = document.querySelectorAll('[id^=\"id_evaluation_learning_objectives_\"]');\n    if (evaluations.length === 1) {\n        let button = document.getElementById('id_remove_evaluation_0');\n        button.hidden = true;\n    } else {\n        let buttons = document.querySelectorAll('[id^=\"id_remove_evaluation\"]');\n        buttons.forEach(button => {\n            button.hidden = false;\n        });\n    }\n}\n\n/**\n *\n */\nfunction updateRemoveEvaluationButton() {\n    let buttons = document.querySelectorAll('[id^=\"fitem_id_remove_evaluation_\"]');\n    buttons.forEach(function(button, index) {\n        button.setAttribute('id', 'fitem_id_remove_evaluation_' + index);\n        let buttonElm = button.querySelector('[type=\"button\"]');\n        buttonElm.setAttribute('name', 'remove_evaluation_' + index);\n        buttonElm.setAttribute('id', 'id_remove_evaluation_' + index);\n    });\n}\n\n/**\n *\n */\nfunction updateAddEvaluationButton() {\n    let x = document.querySelectorAll('[id^=\"row_course_evaluation_container_\"]');\n    let addEvaluationButtonContainer = document.getElementById('evaluation-add-container');\n    let addEvaluationButtonText = addEvaluationButtonContainer.querySelector('.add-text');\n    addEvaluationButtonText.innerHTML = dictionnary.evaluation + (x.length + 1);\n}\n\n/**\n * @param {string} index\n */\nfunction updateExistingEvaluations(index) {\n    let evaluations = document.querySelectorAll('[id^=\"row_course_evaluation_container_\"]');\n    evaluations.forEach(evaluation => {\n        if (evaluation.id.charAt(evaluation.id.length - 1) > index) {\n\n            let currentIndex = evaluation.id.charAt(evaluation.id.length - 1);\n            evaluation.setAttribute('id', 'row_course_evaluation_container_' + (currentIndex - 1));\n            let header = evaluation.querySelector('.accordion-header');\n            header.setAttribute('id', 'course_evaluation_header_' + (currentIndex - 1));\n            header.firstElementChild.setAttribute('href', '#collapse_evaluation_' + (currentIndex - 1));\n            header.firstElementChild.setAttribute('aria-controls', 'collapse_evaluation_' + (currentIndex - 1));\n            header.firstElementChild.innerHTML = 'Evaluation ' + (currentIndex);\n\n\n            let collapsible = evaluation.querySelector('.collapse');\n            collapsible.setAttribute('id', 'collapse_evaluation_' + (currentIndex - 1));\n            collapsible.firstElementChild.setAttribute('id', 'course_evaluation_content_' + (currentIndex - 1));\n\n            updateEditorAndLabel(evaluation, currentIndex, 'title', 'superscript subscript | undo redo');\n            updateEditorAndLabel(evaluation, currentIndex, 'description',\n                'bold italic | numlist bullist | underline strikethrough superscript subscript | undo redo');\n\n        }\n    });\n}\n\n/**\n * @param {object} evaluation\n * @param {string} currentIndex\n * @param {string} element\n * @param {string} toolbarOptions\n */\nfunction updateEditorAndLabel(evaluation, currentIndex, element, toolbarOptions) {\n    let titleContainer = evaluation.querySelector('[id^=\"fitem_id_evaluation_' + element + '_\"]');\n    titleContainer.setAttribute('id', 'fitem_id_evaluation_' + element + '_' + (currentIndex - 1));\n    let labelTitle = titleContainer.querySelector('[for^=\"id_evaluation_' + element + '_\"]');\n    labelTitle.setAttribute('for', 'id_evaluation_' + element + '_' + (currentIndex - 1));\n    removeTinyMce('id_evaluation_' + element + '_' + (currentIndex));\n    let editorTitle = titleContainer.querySelector('[id^=\"id_evaluation_' + element + '_\"]');\n    editorTitle.setAttribute('id', 'id_evaluation_' + element + '_' + (currentIndex - 1));\n    editorTitle.setAttribute('name', 'evaluation_' + element + '_' + (currentIndex - 1));\n    initTinyMce('id_evaluation_' + element + '_' + (currentIndex - 1), toolbarOptions);\n}\n\n/**\n * @param {object} evaluation\n * @param {int} index\n */\nfunction fillFormCommonPart(evaluation, index) {\n    let weight = document.getElementById('id_evaluation_weight_' + index);\n    weight.value = evaluation.weight;\n\n    evaluation.learningobjectiveids.forEach(element=> {\n        // eslint-disable-next-line max-len\n        let learningObjectiveElement = document.getElementById('id_evaluation_learning_objectives_' + index + '_' + element.audehlearningobjectiveid);\n        learningObjectiveElement.checked = true;\n    });\n\n    let module = document.getElementById('id_evaluation_module_' + index);\n    if(evaluation.audehsectionid == 0) {\n        module.value = null;\n    } else {\n        module.value = evaluation.audehsectionid;\n    }\n\n}\n\n/**\n * @param {int} id\n * @param {int} counter\n */\nfunction buildIdHiddenInput(id, counter) {\n    let input = document.createElement(\"input\");\n    input.setAttribute('name', 'evaluation_' + (counter) + '_id_value');\n    input.setAttribute('value', id);\n    input.hidden = true;\n\n    let element = document.getElementById('fitem_id_evaluation_title_' + (counter));\n    element.parentNode.insertBefore(input, element);\n}\n\n/**\n * @param {string} id\n * @param {int} type\n * @param {object} toAppend\n */\nfunction waitWithInterval(id, type, toAppend) {\n    let element = null;\n    let timereditable = setInterval(function() {\n        element = document.getElementById(id);\n        if(element !== null) {\n            if(type === 0) {\n                element.innerHTML = toAppend;\n            } else {\n                element.value = toAppend;\n            }\n            clearInterval(timereditable);\n        }\n    }, 100);\n}\n\n/**\n *\n */\nexport function initEvaluations() {\n    const queryString = window.location.search;\n    const urlParams = new URLSearchParams(queryString);\n    window.$.ajax(\n        {\n            type: \"POST\",\n            url: \"../handlers/ajax_learning_objective_handler.php\",\n            data: {\n                courseId: urlParams.get('course_id')\n            },\n            success: function(response) {\n               let parsedResponse = JSON.parse(response);\n               learningObjectives = parsedResponse.data;\n            },\n            error: function() {\n                window.console.log('failure');\n            }\n        });\n    window.$.ajax(\n        {\n            type: \"POST\",\n            url: \"../handlers/ajax_module_handler.php\",\n            data: {\n                courseId: urlParams.get('course_id')\n            },\n            success: function(response) {\n                let parsedResponse = JSON.parse(response);\n                modules = parsedResponse.data;\n                new Module('Aucun', null);\n                modules.push(new Module('Aucun', null));\n            },\n            error: function() {\n                window.console.log('failure');\n            }\n        });\n    const formContainer = document.getElementById('form_container');\n    formContainer.addEventListener('click', event => {\n        const isButton = event.target.nodeName === 'BUTTON'\n            || (event.target.nodeName === 'I' && event.target.parentNode && event.target.parentNode.nodeName === 'BUTTON');\n        if (!isButton) {\n            return;\n        } else {\n            let element = null;\n            if (event.target.nodeName === 'I') {\n                element = event.target.parentNode;\n            } else {\n                element = event.target;\n            }\n            if (element && element.id.includes('evaluation') && element.hidden === false) {\n                if (element.id.includes('remove')) {\n                    let id = element.id.charAt(element.id.length - 1);\n                    removeEvaluation(id);\n                    event.stopImmediatePropagation();\n                }\n            } else {\n                return;\n            }\n        }\n    });\n    let addButton = document.querySelector('#id_add_evaluation');\n    addButton.addEventListener('click', event => {\n        const isButton = event.target.nodeName === 'BUTTON'\n            || (event.target.nodeName === 'I' && event.target.parentNode && event.target.parentNode.nodeName === 'BUTTON');\n        if (!isButton) {\n            return;\n        } else {\n            event.stopImmediatePropagation();\n            let element = null;\n            if (event.target.nodeName === 'I') {\n                element = event.target.parentNode;\n            } else {\n                element = event.target;\n            }\n            if (element && element.id.includes('evaluation') && element.hidden === false) {\n                addEvaluation();\n            } else {\n                return;\n            }\n        }\n    });\n    let addingButtonsContainer = document.\n    querySelectorAll(\"[class='col-md-9 form-inline align-items-start felement']\");\n    if (addingButtonsContainer) {\n        addingButtonsContainer.forEach(function(addingButtonContainer) {\n            if (addingButtonContainer.dataset.fieldtype === 'button') {\n                addingButtonContainer.removeAttribute('class');\n                let childNodes = addingButtonContainer.childNodes;\n                childNodes.forEach(child => {\n                    if (child.type && child.type === 'button') {\n                        child.classList.remove('btn-secondary');\n                    }\n                });\n            }\n\n        });\n    }\n    let addingButtons = document.querySelectorAll(\"[class*='add_action_button']\");\n    if (addingButtons) {\n        addingButtons.forEach(function(addingButton) {\n            let childNodes = addingButton.childNodes;\n            childNodes.forEach(child => {\n                child.removeAttribute('class');\n            });\n        });\n    }\n    disableEvaluationDeleteButton();\n}\n\n/**\n * @param {array} evaluations\n * @param {array} moduleslist\n */\nexport function fillFormEvaluations(evaluations, moduleslist) {\n    modules = moduleslist;\n    new Module('Aucun', null);\n    modules.push(new Module('Aucun', null));\n    evaluations.forEach(function(evaluation, i) {\n        if (i === 0) {\n            waitWithInterval('id_evaluation_title_0editable', 0, evaluation.title);\n            waitWithInterval('id_evaluation_title_0', 1, evaluation.title);\n\n            waitWithInterval('id_evaluation_description_0editable', 0, evaluation.description);\n            waitWithInterval('id_evaluation_description_0', 1, evaluation.description);\n\n        } else {\n            if (document.getElementById('id_evaluation_title_' + i) === null) {\n                addEvaluation();\n            }\n            let title = document.getElementById('id_evaluation_title_' + i);\n            title.value = evaluation.title;\n\n            let description = document.getElementById('id_evaluation_description_' + i);\n            description.value = evaluation.description;\n\n        }\n        fillFormCommonPart(evaluation, i);\n        buildIdHiddenInput(evaluation.id, i);\n    });\n    prepareActionButton([\n        {type: 0, id: 'evaluation_0'},\n        {type: 1, id: 'evaluation'}]);\n    disableEvaluationDeleteButton();\n}"],"file":"evaluationHelper.min.js"}