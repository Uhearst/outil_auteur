{"version":3,"sources":["../../src/validator/courseValidator.js"],"names":["document","getElementById","addEventListener","e","preventDefault","validateIsEmbed","validEmbed","validateEmbed","window","$","submit","isembedval","querySelector","embedSelector","checked","value","embedInput","input","isValid","slice","errorMsg","span","createElement","style","color","id","margin","innerHTML","insertBefore"],"mappings":"oKAGO,UAA8B,CACjCA,QAAQ,CAACC,cAAT,CAAwB,WAAxB,EAAqCC,gBAArC,CAAsD,QAAtD,CAAgE,SAASC,CAAT,CAAY,CACxEA,CAAC,CAACC,cAAF,GACAC,CAAe,GACf,GAAIC,CAAAA,CAAU,CAAGC,CAAa,EAA9B,CACA,GAAI,CAACD,CAAL,CAAiB,CACb,MACH,CACDE,MAAM,CAACC,CAAP,CAAS,YAAT,EAAuBC,MAAvB,EACH,CARD,CASH,C,CAKD,QAASL,CAAAA,CAAT,EAA2B,IACnBM,CAAAA,CAAU,CAAGX,QAAQ,CAACY,aAAT,CAAuB,oBAAvB,CADM,CAEnBC,CAAa,CAAGb,QAAQ,CAACC,cAAT,CAAwB,gBAAxB,CAFG,CAGvB,GAAGY,CAAa,CAACC,OAAjB,CAA0B,CACtBH,CAAU,CAACI,KAAX,CAAmB,GACtB,CAFD,IAEO,CACHJ,CAAU,CAACI,KAAX,CAAmB,GACtB,CACJ,CAKD,QAASR,CAAAA,CAAT,EAAyB,IACjBS,CAAAA,CAAU,CAAGhB,QAAQ,CAACC,cAAT,CAAwB,8BAAxB,CADI,CAEjBgB,CAAK,CAAGD,CAAU,CAACD,KAFF,CAGrB,GAAc,EAAV,GAAAE,CAAK,EAAqB,IAAV,GAAAA,CAApB,CAAoC,CAChC,QACH,CACD,GAAIC,CAAAA,CAAO,GAAX,CACA,GAA0B,SAAtB,GAAAD,CAAK,CAACE,KAAN,CAAY,CAAZ,CAAe,CAAf,CAAJ,CAAqC,CACjCD,CAAO,GACV,CACD,GAAwB,WAApB,GAAAD,CAAK,CAACE,KAAN,CAAY,CAAC,CAAb,GAAuD,IAApB,GAAAF,CAAK,CAACE,KAAN,CAAY,CAAC,CAAb,CAAvC,CAAiE,CAC7DD,CAAO,GACV,CAED,GAAG,CAACA,CAAJ,CAAa,CACT,GAAIE,CAAAA,CAAQ,CAAGpB,QAAQ,CAACC,cAAT,CAAwB,8BAAxB,CAAf,CACA,GAAiB,IAAb,GAAAmB,CAAJ,CAAuB,CACnB,GAAIC,CAAAA,CAAI,CAAGrB,QAAQ,CAACsB,aAAT,CAAuB,MAAvB,CAAX,CACAD,CAAI,CAACE,KAAL,CAAWC,KAAX,CAAmB,KAAnB,CACAH,CAAI,CAACI,EAAL,CAAU,8BAAV,CACAJ,CAAI,CAACE,KAAL,CAAWG,MAAX,CAAoB,iBAApB,CACAL,CAAI,CAACM,SAAL,CACI,uGADJ,CAEA3B,QAAQ,CAACC,cAAT,CAAwB,yCAAxB,EAAmE2B,YAAnE,CACIP,CADJ,CACUrB,QAAQ,CAACC,cAAT,CAAwB,oCAAxB,CADV,CAEH,CACJ,CACD,MAAOiB,CAAAA,CACV,C","sourcesContent":["/**\n *\n */\nexport function validateCourseForm() {\n    document.getElementById('udeh-form').addEventListener(\"submit\", function(e) {\n        e.preventDefault();\n        validateIsEmbed();\n        let validEmbed = validateEmbed();\n        if (!validEmbed) {\n            return;\n        }\n        window.$('#udeh-form').submit();\n    });\n}\n\n/**\n *\n */\nfunction validateIsEmbed() {\n    let isembedval = document.querySelector('[name=\"isembed\"]');\n    let embedSelector = document.getElementById('embed_selector');\n    if(embedSelector.checked) {\n        isembedval.value = \"1\";\n    } else {\n        isembedval.value = \"0\";\n    }\n}\n\n/**\n *\n */\nfunction validateEmbed() {\n    let embedInput = document.getElementById('id_course_introduction_embed');\n    let input = embedInput.value;\n    if (input !== '' || input !== null) {\n        return true;\n    }\n    let isValid = true;\n    if (input.slice(0, 7) !== '<iframe') {\n        isValid = false;\n    }\n    if (input.slice(-9) !== '</iframe>' && input.slice(-2) !== '/>') {\n        isValid = false;\n    }\n\n    if(!isValid) {\n        let errorMsg = document.getElementById('error_msg_introduction_embed');\n        if (errorMsg === null) {\n            let span = document.createElement('span');\n            span.style.color = 'red';\n            span.id = 'error_msg_introduction_embed';\n            span.style.margin = '0 0 0.5rem 1rem';\n            span.innerHTML =\n                '* L\\'url du fichier embed doit Ãªtre au format: \\'&lt;iframe&gt;&lt;/iframe&gt;\\' ou \\'&lt;iframe/&gt;\\'';\n            document.getElementById('displayable-form-informations-container').insertBefore(\n                span, document.getElementById('fitem_id_course_introduction_embed'));\n        }\n    }\n    return isValid;\n}\n"],"file":"courseValidator.min.js"}