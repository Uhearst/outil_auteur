{"version":3,"file":"moduleHelper.min.js","sources":["../src/moduleHelper.js"],"sourcesContent":["import {handleNewAccordionElement, initTinyMce, prepareAccordions, prepareActionButton, removeTinyMce} from \"./utils\";\nimport {dictionnary} from \"./language/format_udehauthoring_fr\";\n\nlet counterModules = 0;\n\n/**\n * @param {boolean} fromBtnClick\n */\nfunction addModule(fromBtnClick) {\n    let x = buildModule();\n    let container = document.getElementById('displayable-form-sections-container');\n    container.insertBefore(x, document.getElementById('section-add-container'));\n    updateAddModuleButton();\n    disableModuleDeleteButton();\n    initTinyMce('id_section_title_' + counterModules, 'superscript subscript | undo redo');\n    initTinyMce('id_section_question_' + counterModules,\n        ['formatselect bold italic | numlist bullist indent outdent | link unlink | emoticons image ',\n        // eslint-disable-next-line max-len\n        'underline strikethrough superscript subscript | alignleft aligncenter alignright | charmap table removeformat | undo redo ']);\n    initTinyMce('id_section_description_' + counterModules,\n        ['formatselect bold italic | numlist bullist indent outdent | link unlink | emoticons image ',\n            // eslint-disable-next-line max-len\n            'underline strikethrough superscript subscript | alignleft aligncenter alignright | charmap table removeformat | undo redo ']);\n    getTooltips(counterModules);\n    if (fromBtnClick) {\n        handleNewAccordionElement(x);\n    }\n}\n\n/**\n * @param {string} index\n */\nfunction removeModule(index) {\n    let module = document.getElementById('row_course_module_container_' + index);\n    removeTinyMce(\"id_section_title_\" + index);\n    removeTinyMce(\"id_section_question_\" + index);\n    removeTinyMce(\"id_section_description_\" + index);\n    module.remove();\n    updateExistingModules(index);\n    updateAddModuleButton();\n    disableModuleDeleteButton();\n    updateRemoveModuleButton();\n    counterModules = counterModules - 1;\n}\n\n/**\n *\n */\nfunction buildModule() {\n    counterModules = counterModules + 1;\n    let rowModuleContainer = document.createElement(\"div\");\n    let colModuleContainer = document.createElement(\"div\");\n    let colButtonContainer = document.createElement(\"div\");\n\n    rowModuleContainer.setAttribute('class', 'row row-container mb-3');\n    rowModuleContainer.setAttribute('id', 'row_course_module_container_' + counterModules);\n    colModuleContainer.setAttribute('class', 'col-11 accordion-container card');\n    colButtonContainer.setAttribute('class', 'col-1 remove_module_action_button');\n\n    let header = buildModuleHeader();\n    let content = buildModuleContent();\n    colModuleContainer.appendChild(header);\n    colModuleContainer.appendChild(content);\n\n    let button = buildModuleButton();\n    colButtonContainer.appendChild(button);\n\n    rowModuleContainer.appendChild(colModuleContainer);\n    rowModuleContainer.appendChild(colButtonContainer);\n\n    return rowModuleContainer;\n}\n\n/**\n *\n */\nfunction buildModuleHeader() {\n    let headerContainer = document.createElement(\"div\");\n    let linkForCollapseDiv = document.createElement(\"a\");\n\n    headerContainer.setAttribute('class', 'card-header accordion-header');\n    headerContainer.setAttribute('id', 'course_module_header_' + (counterModules));\n\n    linkForCollapseDiv.setAttribute('data-toggle', 'collapse');\n    linkForCollapseDiv.setAttribute('href', '#collapse_module_' + (counterModules));\n    linkForCollapseDiv.setAttribute('role', 'button');\n    linkForCollapseDiv.setAttribute('aria-expanded', 'false');\n    linkForCollapseDiv.setAttribute('aria-controls', 'collapse_module_' + (counterModules));\n    linkForCollapseDiv.setAttribute('class', 'collapsed');\n    linkForCollapseDiv.innerHTML = dictionnary.module + (counterModules + 1);\n\n    headerContainer.appendChild(linkForCollapseDiv);\n\n    return headerContainer;\n}\n\n/**\n *\n */\nfunction buildModuleContent() {\n    let contentContainer = document.createElement(\"div\");\n    let collapseDiv = document.createElement(\"div\");\n\n    collapseDiv.setAttribute('class', 'collapse');\n    collapseDiv.setAttribute('id', 'collapse_module_' + (counterModules));\n    collapseDiv.setAttribute('data-parent', '#displayable-form-sections-container');\n\n    contentContainer.setAttribute('class', 'card-body accordion-content');\n    contentContainer.setAttribute('id', 'course_module_content_' + (counterModules));\n\n    let title = buildEditorContainer('section_title', 'Titre du module');\n    let question = buildEditorContainer('section_question', dictionnary.moduleQuestion);\n    let description = buildEditorContainer('section_description', dictionnary.moduleDescription);\n\n    contentContainer.appendChild(title);\n    contentContainer.appendChild(question);\n    contentContainer.appendChild(description);\n    collapseDiv.appendChild(contentContainer);\n\n    return collapseDiv;\n}\n\n/**\n * @param {string} id\n * @param {string} labelText\n */\nfunction buildEditorContainer(id, labelText) {\n    let fieldContainer = document.createElement(\"div\");\n    let labelContainer = document.createElement(\"div\");\n    let label = document.createElement(\"label\");\n    let editorContainer = document.createElement(\"div\");\n\n\n    fieldContainer.setAttribute('class', 'form-group row  fitem   tiny-editor');\n    fieldContainer.setAttribute('id', 'fitem_id_' + id + '_' + counterModules);\n\n    labelContainer.setAttribute('class', 'col-md-3 col-form-label d-flex pb-0 pr-md-0');\n\n    label.setAttribute('class', 'd-inline word-break');\n    label.setAttribute('for', 'id_' + id + '_' + counterModules);\n    label.innerHTML = labelText;\n\n    editorContainer.setAttribute('class', 'col-md-9 align-items-start felement');\n    editorContainer.setAttribute('data-fieldtype', 'editor');\n\n    let editor = buildTinyMCE(id, counterModules);\n\n    editorContainer.appendChild(editor);\n    labelContainer.appendChild(label);\n\n    fieldContainer.appendChild(labelContainer);\n    fieldContainer.appendChild(editorContainer);\n\n    return fieldContainer;\n}\n\n/**\n * @param {string} target\n * @param {string} moduleIndex\n */\nfunction buildTinyMCE(target, moduleIndex) {\n    let inputContainerDiv = document.createElement(\"textarea\");\n    inputContainerDiv.setAttribute('class', 'custom-editor');\n    inputContainerDiv.setAttribute('id', 'id_' + target + '_' + moduleIndex);\n    inputContainerDiv.setAttribute('name', target + '_' + moduleIndex);\n    return inputContainerDiv;\n}\n\n/**\n *\n */\nfunction buildModuleButton() {\n    let rowModuleContainer = document.createElement(\"div\");\n    let buttonContainer = document.createElement(\"div\");\n    let buttonElement = document.createElement(\"button\");\n    let icon = document.createElement(\"i\");\n\n    rowModuleContainer.setAttribute('id', 'fitem_id_remove_module_' + counterModules);\n\n    buttonContainer.setAttribute('data-fieldtype', 'button');\n\n    buttonElement.setAttribute('class', 'btn ml-0');\n    buttonElement.setAttribute('name', 'remove_module_' + counterModules);\n    buttonElement.setAttribute('id', 'id_remove_module_' + counterModules);\n    buttonElement.setAttribute('type', 'button');\n\n    icon.setAttribute('class', 'remove-button-js fa fa-minus-circle fa-2x');\n\n    buttonElement.appendChild(icon);\n    buttonContainer.appendChild(buttonElement);\n    rowModuleContainer.appendChild(buttonContainer);\n\n    return rowModuleContainer;\n}\n\n/**\n *\n */\nfunction disableModuleDeleteButton() {\n    let modules = document.querySelectorAll('[id^=\"row_course_module_container_\"]');\n    if (modules.length === 1) {\n        let button = document.getElementById('id_remove_module_0');\n        button.hidden = true;\n    } else {\n        let buttons = document.querySelectorAll('[id^=\"id_remove_module\"]');\n        buttons.forEach(button => {\n            button.hidden = false;\n        });\n    }\n}\n\n/**\n *\n */\nfunction updateAddModuleButton() {\n    let x = document.querySelectorAll('[id^=\"row_course_module_container_\"]');\n    let addModuleButtonContainer = document.getElementById('section-add-container');\n    let addModuleButtonText = addModuleButtonContainer.querySelector('.add-text');\n    addModuleButtonText.innerHTML = dictionnary.module + (x.length + 1);\n}\n\n/**\n *\n */\nfunction updateRemoveModuleButton() {\n    let buttons = document.querySelectorAll('[id^=\"fitem_id_remove_module_\"]');\n    buttons.forEach(function(button, index) {\n        button.setAttribute('id', 'fitem_id_remove_module_' + index);\n        let buttonElm = button.querySelector('[type=\"button\"]');\n        buttonElm.setAttribute('name', 'remove_module_' + index);\n        buttonElm.setAttribute('id', 'id_remove_module_' + index);\n    });\n}\n\n/**\n * @param {string} index\n */\nfunction updateExistingModules(index) {\n    let modules = document.querySelectorAll('[id^=\"row_course_module_container_\"]');\n    modules.forEach(module => {\n        if (parseInt(module.id.substring(module.id.lastIndexOf('_') + 1)) > parseInt(index)) {\n            let currentIndex = parseInt(module.id.substring(module.id.lastIndexOf('_') + 1));\n            module.setAttribute('id', 'row_course_module_container_' + (currentIndex - 1));\n            let header = module.querySelector('.accordion-header');\n            header.setAttribute('id', 'course_module_header_' + (currentIndex - 1));\n            header.firstElementChild.setAttribute('href', '#collapse_module_' + (currentIndex - 1));\n            header.firstElementChild.setAttribute('aria-controls', 'collapse_module_' + (currentIndex - 1));\n            header.firstElementChild.innerHTML = dictionnary.module + (currentIndex);\n\n            let collapsible = module.querySelector('.collapse');\n            collapsible.setAttribute('id', 'collapse_module_' + (currentIndex - 1));\n            collapsible.firstElementChild.setAttribute('id', 'course_module_content_' + (currentIndex - 1));\n            updateEditorAndLabel(module, currentIndex, 'title', 'superscript subscript | undo redo');\n            updateEditorAndLabel(module, currentIndex, 'question', 'superscript subscript | undo redo');\n            updateEditorAndLabel(module, currentIndex, 'description',\n                'bold italic | numlist bullist | underline strikethrough superscript subscript | undo redo');\n\n        }\n    });\n}\n\n/**\n * @param {object} module\n * @param {string} currentIndex\n * @param {string} element\n * @param {string} toolbarOptions\n */\nfunction updateEditorAndLabel(module, currentIndex, element, toolbarOptions) {\n    let titleContainer = module.querySelector('[id^=\"fitem_id_section_' + element + '_\"]');\n    titleContainer.setAttribute('id', 'fitem_id_section_' + element + '_' + (currentIndex - 1));\n    let labelTitle = titleContainer.querySelector('[for^=\"id_section_' + element + '_\"]');\n    labelTitle.setAttribute('for', 'id_section_' + element + '_' + (currentIndex - 1));\n    removeTinyMce('id_section_' + element + '_' + (currentIndex));\n    let editorTitle = titleContainer.querySelector('[id^=\"id_section_' + element + '_\"]');\n    editorTitle.setAttribute('id', 'id_section_' + element + '_' + (currentIndex - 1));\n    editorTitle.setAttribute('name', 'section_' + element + '_' + (currentIndex - 1));\n    initTinyMce('id_section_' + element + '_' + (currentIndex - 1), toolbarOptions);\n}\n\n/**\n * @param {int} index\n */\nfunction getTooltips(index) {\n    const titleContainer = document.getElementById('fitem_id_section_title_0');\n    const questionContainer = document.getElementById('fitem_id_section_question_0');\n    const descriptionContainer = document.getElementById('fitem_id_section_description_0');\n\n    const titleToolTip = titleContainer.firstElementChild.children[1];\n    const questionToolTip = questionContainer.firstElementChild.children[1];\n    const descriptionToolTip = descriptionContainer.firstElementChild.children[1];\n\n    let titleToFillContainer = document.getElementById('fitem_id_section_title_' + index);\n    titleToFillContainer.firstElementChild.appendChild(titleToolTip.cloneNode(true));\n\n    let questionToFillContainer = document.getElementById('fitem_id_section_question_' + index);\n    questionToFillContainer.firstElementChild.appendChild(questionToolTip.cloneNode(true));\n\n    let descriptionToFillContainer = document.getElementById('fitem_id_section_description_' + index);\n    descriptionToFillContainer.firstElementChild.appendChild(descriptionToolTip.cloneNode(true));\n}\n\n/**\n * @param {int} id\n * @param {int} counter\n */\nfunction buildIdHiddenInput(id, counter) {\n    let input = document.createElement(\"input\");\n    input.setAttribute('name', 'section_' + (counter) + '_id_value');\n    input.setAttribute('value', id);\n    input.hidden = true;\n\n    let element = document.getElementById('fitem_id_section_title_' + (counter));\n    element.parentNode.insertBefore(input, element);\n}\n\n/**\n * @param {string} id\n * @param {int} type\n * @param {object} toAppend\n */\nfunction waitWithInterval(id, type, toAppend) {\n    let element = null;\n    let timereditable = setInterval(function() {\n        element = document.getElementById(id);\n        if(element !== null) {\n            if(type === 0) {\n                element.innerHTML = toAppend;\n            } else {\n                element.value = toAppend;\n            }\n            clearInterval(timereditable);\n        }\n    }, 100);\n}\n\n/**\n *\n */\nexport function initModules() {\n    const formContainer = document.getElementById('form_container');\n    let addButton = document.querySelector('#id_add_module');\n        formContainer.addEventListener('click', event => {\n            const isButton = event.target.nodeName === 'BUTTON'\n                || (event.target.nodeName === 'I' && event.target.parentNode && event.target.parentNode.nodeName === 'BUTTON');\n            if (!isButton) {\n                return;\n            } else {\n                let element = null;\n                if (event.target.nodeName === 'I') {\n                    element = event.target.parentNode;\n                } else {\n                    element = event.target;\n                }\n                if (element && element.id.includes('module') && element.hidden === false) {\n                    if (element.id.includes('remove')) {\n                        let id = element.id.substring(element.id.lastIndexOf('_') + 1);\n                        removeModule(id);\n                        event.stopImmediatePropagation();\n                    }\n                } else {\n                    return;\n                }\n            }\n        });\n\n    addButton.addEventListener('click', event => {\n        const isButton = event.target.nodeName === 'BUTTON'\n            || (event.target.nodeName === 'I' && event.target.parentNode && event.target.parentNode.nodeName === 'BUTTON');\n        if (!isButton) {\n            return;\n        } else {\n            event.stopImmediatePropagation();\n            let element = null;\n            if (event.target.nodeName === 'I') {\n                element = event.target.parentNode;\n            } else {\n                element = event.target;\n            }\n            if (element && element.id.includes('module') && element.hidden === false) {\n                addModule(true);\n            } else {\n                return;\n            }\n        }\n    });\n    let addingButtonsContainer = document.\n    querySelectorAll(\"[class='col-md-9 form-inline align-items-start felement']\");\n    if (addingButtonsContainer) {\n        addingButtonsContainer.forEach(function(addingButtonContainer) {\n            if (addingButtonContainer.dataset.fieldtype === 'button') {\n                addingButtonContainer.removeAttribute('class');\n                let childNodes = addingButtonContainer.childNodes;\n                childNodes.forEach(child => {\n                    if (child.type && child.type === 'button') {\n                        child.classList.remove('btn-secondary');\n                    }\n                });\n            }\n\n        });\n    }\n    let addingButtons = document.querySelectorAll(\"[class*='add_action_button']\");\n    if (addingButtons) {\n        addingButtons.forEach(function(addingButton) {\n            let childNodes = addingButton.childNodes;\n            childNodes.forEach(child => {\n                child.removeAttribute('class');\n            });\n        });\n    }\n    disableModuleDeleteButton();\n    prepareAccordions('row_course_module_container_');\n}\n\n/**\n * @param {array} modules\n */\nexport function fillFormModules(modules) {\n    modules.forEach(function(module, i) {\n        if (i === 0) {\n            waitWithInterval('id_section_title_0editable', 0, module.title);\n            waitWithInterval('id_section_title_0', 1, module.title);\n\n            waitWithInterval('id_section_question_0editable', 0, module.question);\n            waitWithInterval('id_section_question_0', 1, module.question);\n\n            waitWithInterval('id_section_description_0editable', 0, module.description);\n            waitWithInterval('id_section_description_0', 1, module.description);\n\n        } else {\n            if (document.getElementById('id_section_title_' + i) === null) {\n                addModule(false);\n            }\n            let title = document.getElementById('id_section_title_' + i);\n            title.innerHTML = module.title;\n            let question = document.getElementById('id_section_question_' + i);\n            question.innerHTML = module.question;\n            let description = document.getElementById('id_section_description_' + i);\n            description.innerHTML = module.description;\n        }\n        buildIdHiddenInput(module.id, i);\n    });\n    prepareActionButton([\n        {type: 0, id: 'module_0'},\n        {type: 1, id: 'module'}]);\n    disableModuleDeleteButton();\n    prepareAccordions('row_course_module_container_');\n}"],"names":["modules","forEach","module","i","waitWithInterval","title","question","description","document","getElementById","addModule","innerHTML","id","counter","input","createElement","setAttribute","hidden","element","parentNode","insertBefore","buildIdHiddenInput","type","disableModuleDeleteButton","formContainer","addButton","querySelector","addEventListener","event","target","nodeName","index","includes","substring","lastIndexOf","remove","querySelectorAll","parseInt","currentIndex","header","firstElementChild","dictionnary","collapsible","updateEditorAndLabel","updateExistingModules","updateAddModuleButton","button","buttonElm","counterModules","stopImmediatePropagation","addingButtonsContainer","addingButtonContainer","dataset","fieldtype","removeAttribute","childNodes","child","classList","addingButtons","addingButton","fromBtnClick","titleContainer","questionContainer","descriptionContainer","titleToolTip","questionToolTip","descriptionToolTip","x","rowModuleContainer","colModuleContainer","colButtonContainer","headerContainer","linkForCollapseDiv","appendChild","content","contentContainer","collapseDiv","buildEditorContainer","moduleQuestion","moduleDescription","buildModuleContent","buttonContainer","buttonElement","icon","buildModuleButton","buildModule","children","cloneNode","labelText","fieldContainer","labelContainer","label","editorContainer","moduleIndex","inputContainerDiv","editor","length","toolbarOptions","editorTitle","toAppend","timereditable","setInterval","value","clearInterval"],"mappings":"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"}