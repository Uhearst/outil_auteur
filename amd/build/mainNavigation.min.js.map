{"version":3,"file":"mainNavigation.min.js","sources":["../src/mainNavigation.js"],"sourcesContent":["/**\n *\n */\nexport function init() {\n    updateVisibleForm();\n    window.addEventListener('hashchange', function () {\n        updateVisibleForm();\n    });\n}\n\n/**\n *\n */\nfunction updateVisibleForm() {\n    let n = window.location.pathname.lastIndexOf('/');\n    let page = window.location.pathname.substring(n + 1);\n    let anchor = window.location.href.includes(\"#\") ?\n        window.location.href.substring(window.location.href.lastIndexOf('#') + 1) : null;\n    if (page.includes('course')) {\n        if (anchor === null) {\n            hideAllDisplayableElements();\n            showMask('displayable-form-informations-container');\n        } else {\n            hideAllDisplayableElements();\n            showMask(anchor);\n        }\n    }\n\n    setDirtyForm();\n}\n\nconst setDirtyForm = () => {\n    let form = document.querySelector('#udeh-form');\n    let inputs = form.querySelectorAll('input, textarea, select');\n    inputs.forEach(input => {\n        input.addEventListener('change', () => {\n            if (form.dataset.changed !== 'true') {\n                form.dataset.changed = 'true';\n            }\n        });\n    });\n\n    let interval = setInterval(function() {\n        let iframes = form.querySelectorAll('iframe');\n        iframes.forEach(iframe => {\n            let iframeBody = iframe.contentWindow.document.body;\n            if (iframeBody) {\n                iframeBody.addEventListener('keyup', () => {\n                    if (form.dataset.changed !== 'true') {\n                        form.dataset.changed = 'true';\n                    }\n                });\n            }\n        });\n\n        clearInterval(interval);\n    }, 3000);\n};\n\n/**\n *\n */\nfunction hideAllDisplayableElements() {\n    let nodeList = document.querySelectorAll(\"[id^='displayable']\");\n    nodeList.forEach(node => {\n        node.style.display = 'none';\n    });\n}\n\n/**\n * @param {string} id\n */\nfunction showMask(id) {\n    let node = document.getElementById(id);\n    if (node) {\n        if (node.style.display === 'block') {\n            node.style.display = 'none';\n        } else {\n            node.style.display = 'block';\n        }\n    }\n}"],"names":["updateVisibleForm","n","window","location","pathname","lastIndexOf","page","substring","anchor","href","includes","hideAllDisplayableElements","showMask","setDirtyForm","addEventListener","form","document","querySelector","querySelectorAll","forEach","input","dataset","changed","interval","setInterval","iframe","iframeBody","contentWindow","body","clearInterval","node","style","display","id","getElementById"],"mappings":"sFAaSA,wBACDC,EAAIC,OAAOC,SAASC,SAASC,YAAY,KACzCC,KAAOJ,OAAOC,SAASC,SAASG,UAAUN,EAAI,GAC9CO,OAASN,OAAOC,SAASM,KAAKC,SAAS,KACvCR,OAAOC,SAASM,KAAKF,UAAUL,OAAOC,SAASM,KAAKJ,YAAY,KAAO,GAAK,KAC5EC,KAAKI,SAAS,YACC,OAAXF,QACAG,6BACAC,SAAS,6CAETD,6BACAC,SAASJ,UAIjBK,gGAxBAb,oBACAE,OAAOY,iBAAiB,cAAc,WAClCd,8BAyBFa,aAAe,SACbE,KAAOC,SAASC,cAAc,cACrBF,KAAKG,iBAAiB,2BAC5BC,SAAQC,QACXA,MAAMN,iBAAiB,UAAU,KACA,SAAzBC,KAAKM,QAAQC,UACbP,KAAKM,QAAQC,QAAU,kBAK/BC,SAAWC,aAAY,WACTT,KAAKG,iBAAiB,UAC5BC,SAAQM,aACRC,WAAaD,OAAOE,cAAcX,SAASY,KAC3CF,YACAA,WAAWZ,iBAAiB,SAAS,KACJ,SAAzBC,KAAKM,QAAQC,UACbP,KAAKM,QAAQC,QAAU,cAMvCO,cAAcN,YACf,eAMEZ,6BACUK,SAASE,iBAAiB,uBAChCC,SAAQW,OACbA,KAAKC,MAAMC,QAAU,mBAOpBpB,SAASqB,QACVH,KAAOd,SAASkB,eAAeD,IAC/BH,OAC2B,UAAvBA,KAAKC,MAAMC,QACXF,KAAKC,MAAMC,QAAU,OAErBF,KAAKC,MAAMC,QAAU"}