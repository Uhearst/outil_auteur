define("format_udehauthoring/objectiveHelper",["exports","./utils","./language/format_udehauthoring_fr"],(function(_exports,_utils,_format_udehauthoring_fr){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.initObjectives=_exports.fillFormObjectives=void 0;var counterTeachingObjectives=0,cloneTooltipTeachingObjectives=null,cloneTooltipLearningObjectives=null,cloneTooltipLearningObjectivesCompetency=null;function addLearningObjectives(index,fromBtnClick){var x=buildLearningObjectives(index),container=document.getElementById("course_learning_objectives_container_"+index);container.appendChild(x),updateAddLearningButton(index),disableLearningDeleteButton();var newIndex=container.children.length;(0,_utils.initTinyMce)("id_course_learning_objectives_def_"+index+"_"+(newIndex-1),"bold italic | underline strikethrough superscript subscript | undo redo"),getLearningTooltip(index,newIndex-1),fromBtnClick&&(0,_utils.handleNewAccordionElement)(x)}function addTeachingObjectives(fromBtnClick){var x=function(){var teachingObjectivesContainer=document.createElement("div"),teachingObjectivesInputDiv=document.createElement("div"),headerDiv=document.createElement("div"),courseTeachingDiv=document.createElement("div"),rowContainer=document.createElement("div"),linkForCollapseDiv=document.createElement("a"),collapseDiv=document.createElement("div"),learningObjectivesContainer=document.createElement("div");counterTeachingObjectives+=1,rowContainer.setAttribute("class","row row-container mb-3"),teachingObjectivesContainer.setAttribute("id","course_teaching_objectives_container_"+counterTeachingObjectives),teachingObjectivesContainer.setAttribute("class","col-11 accordion-container card"),headerDiv.setAttribute("class","accordion-header card-header"),headerDiv.setAttribute("id","course_teaching_objectives_header_"+counterTeachingObjectives),linkForCollapseDiv.setAttribute("data-toggle","collapse"),linkForCollapseDiv.setAttribute("href","#collapse_teaching_"+counterTeachingObjectives),linkForCollapseDiv.setAttribute("role","button"),linkForCollapseDiv.setAttribute("aria-expanded","false"),linkForCollapseDiv.setAttribute("aria-controls","collapse_teaching_"+counterTeachingObjectives),linkForCollapseDiv.setAttribute("class","collapsed"),linkForCollapseDiv.innerHTML=_format_udehauthoring_fr.dictionnary.teachingObjective+(counterTeachingObjectives+1),learningObjectivesContainer.setAttribute("id","course_learning_objectives_container_"+counterTeachingObjectives),learningObjectivesContainer.setAttribute("class","course_learning_objectives_container"),collapseDiv.setAttribute("class","collapse"),collapseDiv.setAttribute("id","collapse_teaching_"+counterTeachingObjectives),collapseDiv.setAttribute("data-parent","#displayable-form-objectives-container"),courseTeachingDiv.setAttribute("id","course_teaching_objectives_"+counterTeachingObjectives),courseTeachingDiv.setAttribute("class","card-body accordion-content"),teachingObjectivesInputDiv.setAttribute("id","fitem_id_course_teaching_objectives_"+counterTeachingObjectives),teachingObjectivesInputDiv.setAttribute("class","form-group row  fitem   "),teachingObjectivesInputDiv.appendChild(buildTinyMCE("course_teaching_objectives_",counterTeachingObjectives));var learningObjectives=buildLearningObjectives(counterTeachingObjectives),addLearningObjectivesButton=(addLearningObectivesContainer=document.createElement("div"),addLearningObectivesRowContainer=document.createElement("div"),addLearningObectivesLabelContainer=document.createElement("div"),addLearningObectivesLabel=document.createElement("span"),addLearningObectivesButton=buildButtonDiv("add_learning_objectives_"+counterTeachingObjectives,1),addLearningObectivesLabel.innerHTML=_format_udehauthoring_fr.dictionnary.targetedLearningObjective+(counterTeachingObjectives+1)+".2",addLearningObectivesLabel.setAttribute("class","add-text"),addLearningObectivesContainer.setAttribute("class","add_learning_container"),addLearningObectivesRowContainer.setAttribute("class","row course_add_learning_objectives_row"),addLearningObectivesLabelContainer.setAttribute("class","col-11 add-container-text card card-header"),addLearningObectivesLabelContainer.appendChild(addLearningObectivesLabel),addLearningObectivesRowContainer.appendChild(addLearningObectivesLabelContainer),addLearningObectivesRowContainer.appendChild(addLearningObectivesButton),addLearningObectivesContainer.appendChild(addLearningObectivesRowContainer),addLearningObectivesContainer);var addLearningObectivesContainer,addLearningObectivesRowContainer,addLearningObectivesLabelContainer,addLearningObectivesLabel,addLearningObectivesButton;headerDiv.appendChild(linkForCollapseDiv),learningObjectivesContainer.appendChild(learningObjectives),courseTeachingDiv.appendChild(teachingObjectivesInputDiv),courseTeachingDiv.appendChild(learningObjectivesContainer),courseTeachingDiv.appendChild(addLearningObjectivesButton),collapseDiv.appendChild(courseTeachingDiv),teachingObjectivesContainer.appendChild(headerDiv),teachingObjectivesContainer.appendChild(collapseDiv);var buttonElement=buildButtonDiv("remove_teaching_objectives_"+counterTeachingObjectives,0);return rowContainer.appendChild(teachingObjectivesContainer),rowContainer.appendChild(buttonElement),rowContainer}();document.getElementById("displayable-form-objectives-container").insertBefore(x,document.getElementById("teaching-add-container")),updateAddTeachingButton(),disableTeachingDeleteButton(),(0,_utils.initTinyMce)("id_course_teaching_objectives_"+counterTeachingObjectives,"bold italic | underline strikethrough superscript subscript | undo redo"),(0,_utils.initTinyMce)("id_course_learning_objectives_def_"+counterTeachingObjectives+"_0","bold italic | underline strikethrough superscript subscript | undo redo"),getTeachingTooltip(counterTeachingObjectives),fromBtnClick&&(0,_utils.handleNewAccordionElement)(x)}function removeTeachingObjective(index){var teachingObjective=document.getElementById("course_teaching_objectives_container_"+index);(0,_utils.removeTinyMce)("id_course_teaching_objectives_"+index);var learningObjectives=teachingObjective.querySelectorAll("div.row-container-child"),counter=0;learningObjectives.forEach((function(){(0,_utils.removeTinyMce)("id_course_learning_objectives_def_"+index+"_"+counter),counter+=1})),teachingObjective.parentElement.remove(),function(index){document.querySelectorAll('[id^="course_teaching_objectives_container_"]').forEach((function(teachingObjective){if(parseInt(teachingObjective.id.substring(teachingObjective.id.lastIndexOf("_")+1))>parseInt(index)){var currentIndex=parseInt(teachingObjective.id.substring(teachingObjective.id.lastIndexOf("_")+1));(0,_utils.removeTinyMce)("id_course_teaching_objectives_"+currentIndex),teachingObjective.setAttribute("id","course_teaching_objectives_container_"+(currentIndex-1));var headerContainer=teachingObjective.querySelector('[id^="course_teaching_objectives_header_"]');headerContainer.setAttribute("id","course_teaching_objectives_header_"+(currentIndex-1)),headerContainer.firstElementChild.setAttribute("href","#collapse_teaching_"+(currentIndex-1)),headerContainer.firstElementChild.setAttribute("aria-controls","collapse_teaching_"+(currentIndex-1)),headerContainer.firstElementChild.innerHTML=_format_udehauthoring_fr.dictionnary.teachingObjective+currentIndex;var contentContainer=teachingObjective.querySelector('[id^="collapse_teaching_"]');contentContainer.setAttribute("id","collapse_teaching_"+(currentIndex-1)),contentContainer.firstElementChild.setAttribute("id","course_teaching_objectives_"+(currentIndex-1)),contentContainer.firstElementChild.firstElementChild.setAttribute("id","fitem_id_course_teaching_objectives_"+(currentIndex-1));var currentTeachingTextArea=contentContainer.firstElementChild.firstElementChild.querySelector("textarea");currentTeachingTextArea.setAttribute("id","id_course_teaching_objectives_"+(currentIndex-1)),currentTeachingTextArea.setAttribute("name","course_teaching_objectives_"+(currentIndex-1)),(0,_utils.initTinyMce)("id_course_teaching_objectives_"+(currentIndex-1),"bold italic | underline strikethrough superscript subscript | undo redo"),teachingIndex=currentIndex,(learningObjectiveListContainer=document.getElementById("course_learning_objectives_container_"+teachingIndex)).setAttribute("id","course_learning_objectives_container_"+(teachingIndex-1)),learningObjectiveListContainer.querySelectorAll('[id^="course_learning_objectives_subcontainer_"]').forEach((function(learningObjectiveContainer){var currentLearningIndex=parseInt(learningObjectiveContainer.id.substring(learningObjectiveContainer.id.lastIndexOf("_")+1));(0,_utils.removeTinyMce)("id_course_learning_objectives_def_"+teachingIndex+"_"+currentLearningIndex),updateLearningObjective(learningObjectiveContainer,teachingIndex-1,currentLearningIndex),(0,_utils.initTinyMce)("id_course_learning_objectives_def_"+(teachingIndex-1)+"_"+currentLearningIndex,"bold italic | underline strikethrough superscript subscript | undo redo"),updateRemoveLearningButton(document.getElementById("fitem_id_remove_learning_objectives_"+teachingIndex+"_"+currentLearningIndex),teachingIndex-1,currentLearningIndex)})),updateAddLearningButton(teachingIndex-1)}var teachingIndex,learningObjectiveListContainer}))}(index),updateAddTeachingButton(),document.querySelectorAll('[id^="fitem_id_remove_teaching_objectives"]').forEach((function(button,index){button.setAttribute("id","fitem_id_remove_teaching_objectives_"+index);var buttonElm=button.querySelector('[type="button"]');buttonElm.setAttribute("name","remove_teaching_objectives_"+index),buttonElm.setAttribute("id","id_remove_teaching_objectives_"+index)})),disableTeachingDeleteButton(),counterTeachingObjectives-=1}function removeLearningObjective(teachingIndex,learningIndex){var learningObjective=document.getElementById("course_learning_objectives_subcontainer_"+teachingIndex+"_"+learningIndex);(0,_utils.removeTinyMce)("id_course_learning_objectives_def_"+teachingIndex+"_"+learningIndex),learningObjective.parentElement.remove(),function(teachingIndex,learningIndex){document.getElementById("course_learning_objectives_container_"+teachingIndex).querySelectorAll('[id^="course_learning_objectives_subcontainer_"]').forEach((function(learningObjectiveContainer){if(parseInt(learningObjectiveContainer.id.substring(learningObjectiveContainer.id.lastIndexOf("_")+1))>parseInt(learningIndex)){var currentIndex=parseInt(learningObjectiveContainer.id.substring(learningObjectiveContainer.id.lastIndexOf("_")+1));(0,_utils.removeTinyMce)("id_course_learning_objectives_def_"+teachingIndex+"_"+currentIndex),updateLearningObjective(learningObjectiveContainer,teachingIndex,currentIndex-1),(0,_utils.initTinyMce)("id_course_learning_objectives_def_"+teachingIndex+"_"+(currentIndex-1),"bold italic | underline strikethrough superscript subscript | undo redo"),updateRemoveLearningButton(document.getElementById("fitem_id_remove_learning_objectives_"+teachingIndex+"_"+currentIndex),teachingIndex,currentIndex-1)}}))}(teachingIndex,learningIndex),updateAddLearningButton(parseInt(teachingIndex)),disableLearningDeleteButton()}function updateLearningObjective(element,teachingIndex,learningIndex){element.setAttribute("id","course_learning_objectives_subcontainer_"+teachingIndex+"_"+learningIndex);var headerContainer=element.querySelector('[id^="course_learning_objectives_header_"]');headerContainer.setAttribute("id","course_learning_objectives_header_"+teachingIndex+"_"+learningIndex),headerContainer.firstChild.setAttribute("href","#collapse_learning_"+teachingIndex+"_"+learningIndex),headerContainer.firstChild.setAttribute("aria-controls","collapse_learning_"+teachingIndex+"_"+learningIndex),headerContainer.firstChild.innerHTML=_format_udehauthoring_fr.dictionnary.learningObjective+(parseInt(teachingIndex)+1)+"."+(parseInt(learningIndex)+1);var contentContainer=element.querySelector('[id^="collapse_learning_"]');contentContainer.setAttribute("id","collapse_learning_"+teachingIndex+"_"+learningIndex),contentContainer.setAttribute("data-parent","#course_learning_objectives_container_"+teachingIndex),contentContainer.firstElementChild.setAttribute("id","course_learning_objective_"+teachingIndex+"_"+learningIndex),contentContainer.children[0].firstChild.setAttribute("id","fitem_id_course_learning_objectives_"+teachingIndex+"_"+learningIndex),1===contentContainer.children[0].firstElementChild.children.length?(contentContainer.children[0].firstElementChild.children[0].setAttribute("name","course_learning_objectives_def_"+teachingIndex+"_"+learningIndex),contentContainer.children[0].firstElementChild.children[0].setAttribute("id","id_course_learning_objectives_def_"+teachingIndex+"_"+learningIndex)):2===contentContainer.children[0].firstElementChild.children.length&&(contentContainer.children[0].firstElementChild.children[0].setAttribute("name","course_learning_objectives_"+teachingIndex+"_"+learningIndex+"_id_value"),contentContainer.children[0].firstElementChild.children[1].setAttribute("name","course_learning_objectives_def_"+teachingIndex+"_"+learningIndex),contentContainer.children[0].firstElementChild.children[1].setAttribute("id","id_course_learning_objectives_def_"+teachingIndex+"_"+learningIndex)),contentContainer.children[0].children[1].setAttribute("id","fitem_id_course_learning_objectives_competency_type_"+teachingIndex+"_"+learningIndex),contentContainer.children[0].children[1].firstChild.firstChild.setAttribute("id","id_course_learning_objectives_competency_type_"+teachingIndex+"_"+learningIndex),contentContainer.children[0].children[1].firstChild.firstChild.setAttribute("for","id_course_learning_objectives_competency_type_"+teachingIndex+"_"+learningIndex),contentContainer.children[0].children[1].firstChild.firstChild.innerHTML=_format_udehauthoring_fr.dictionnary.learningObjectiveCompetencyType,contentContainer.children[0].children[1].children[1].firstChild.setAttribute("id","id_course_learning_objectives_competency_type_"+teachingIndex+"_"+learningIndex),contentContainer.children[0].children[1].children[1].firstChild.setAttribute("name","course_learning_objectives_competency_type_"+teachingIndex+"_"+learningIndex),contentContainer.children[0].children[1].children[1].children[1].setAttribute("id","id_error_id_course_learning_objectives_competency_type_"+teachingIndex+"_"+learningIndex)}function updateRemoveLearningButton(element,teachingIndex,learningIndex){element.setAttribute("id","fitem_id_remove_learning_objectives_"+teachingIndex+"_"+learningIndex);var buttonElm=element.querySelector('[type="button"]');buttonElm.setAttribute("name","remove_learning_objectives_"+teachingIndex+"_"+learningIndex),buttonElm.setAttribute("id","id_remove_learning_objectives_"+teachingIndex+"_"+learningIndex)}function updateAddTeachingButton(){var x=document.getElementById("displayable-form-objectives-container").querySelectorAll(".row-container");document.getElementById("teaching-add-container").querySelector(".add-text").innerHTML=_format_udehauthoring_fr.dictionnary.teachingObjective+(x.length+1)}function updateAddLearningButton(index){var teachingContainer=document.getElementById("course_teaching_objectives_container_"+index),x=document.getElementById("course_learning_objectives_container_"+index).querySelectorAll(".row-container-child");teachingContainer.querySelector(".add-text").innerHTML=_format_udehauthoring_fr.dictionnary.targetedLearningObjective+(parseInt(index)+1)+"."+(x.length+1);var buttonContainer=teachingContainer.querySelector('[id^="fitem_id_add_learning_objectives_"]');buttonContainer.setAttribute("id","fitem_id_add_learning_objectives_"+index);var buttonElement=buttonContainer.querySelector('[id^="id_add_learning_objectives"]');buttonElement.setAttribute("id","id_add_learning_objectives_"+index),buttonElement.setAttribute("name","add_learning_objectives_"+index)}function disableTeachingDeleteButton(){1===document.getElementById("displayable-form-objectives-container").querySelectorAll(".row-container").length?document.querySelector(".remove_teaching_action_button").querySelector("button").hidden=!0:document.querySelectorAll(".remove_teaching_action_button").forEach((function(buttonContainer){buttonContainer.querySelector("button").hidden=!1}))}function disableLearningDeleteButton(){document.querySelectorAll(".row-container").forEach((function(teachingContainer){var learningContainers=teachingContainer.querySelectorAll(".row-container-child");1===learningContainers.length?learningContainers[0].querySelector(".remove_learning_action_button").querySelector("button").hidden=!0:learningContainers.forEach((function(learningContainer){learningContainer.querySelector(".remove_learning_action_button").querySelector("button").hidden=!1}))}))}function buildLearningObjectives(containerIndex){var container=document.getElementById("course_learning_objectives_container_"+containerIndex),rowContainer=document.createElement("div"),newIndex=container?container.children.length:0,courseLearningDiv=document.createElement("div"),headerDiv=document.createElement("div"),inputDiv=document.createElement("div"),selectDiv=document.createElement("div"),linkForCollapseDiv=document.createElement("a"),collapseDiv=document.createElement("div"),contentContainer=document.createElement("div");rowContainer.setAttribute("class","row row-container-child mb-3"),courseLearningDiv.setAttribute("id","course_learning_objectives_subcontainer_"+containerIndex+"_"+newIndex),courseLearningDiv.setAttribute("class","col-11 accordion-container card"),headerDiv.setAttribute("class","accordion-header card-header"),headerDiv.setAttribute("id","course_learning_objectives_header_"+containerIndex+"_"+newIndex),linkForCollapseDiv.setAttribute("data-toggle","collapse"),linkForCollapseDiv.setAttribute("href","#collapse_learning_"+containerIndex+"_"+newIndex),linkForCollapseDiv.setAttribute("role","button"),linkForCollapseDiv.setAttribute("aria-exapnded","false"),linkForCollapseDiv.setAttribute("aria-controls","collapse_learning_"+containerIndex+"_"+newIndex),linkForCollapseDiv.setAttribute("class","collapsed"),linkForCollapseDiv.innerHTML=_format_udehauthoring_fr.dictionnary.learningObjective+(parseInt(containerIndex)+1)+"."+(newIndex+1),collapseDiv.setAttribute("class","collapse"),collapseDiv.setAttribute("id","collapse_learning_"+containerIndex+"_"+newIndex),collapseDiv.setAttribute("data-parent","#course_learning_objectives_container_"+containerIndex),contentContainer.setAttribute("class","card-body accordion-content"),contentContainer.setAttribute("id","course_learning_objective_"+containerIndex+"_"+newIndex),inputDiv.setAttribute("id","fitem_id_course_learning_objectives_"+containerIndex+"_"+newIndex),inputDiv.setAttribute("class","form-group row  fitem   "),inputDiv.appendChild(buildTinyMCE("course_learning_objectives_def_",containerIndex,newIndex.toString())),selectDiv.setAttribute("id","fitem_id_course_learning_objectives_competency_type_"+containerIndex+"_"+newIndex),selectDiv.setAttribute("class","form-group row  fitem   "),selectDiv.appendChild(function(idFor,labelString){var labelContainerDiv=document.createElement("div"),label=document.createElement("label"),divForLabel=document.createElement("div");labelContainerDiv.setAttribute("class","col-md-3 col-form-label d-flex pb-0 pr-md-0"),label.setAttribute("class","d-inline word-break "),""!==idFor&&""!==labelString&&(label.setAttribute("for",idFor),label.innerHTML=labelString);return divForLabel.setAttribute("class","form-label-addon d-flex align-items-center align-self-start"),labelContainerDiv.appendChild(label),labelContainerDiv.appendChild(divForLabel),labelContainerDiv}("id_course_learning_objectives_competency_type_"+containerIndex+"_"+newIndex,_format_udehauthoring_fr.dictionnary.learningObjectiveCompetencyType)),selectDiv.appendChild(function(target,index){var selectContainerDiv=document.createElement("div"),select=document.createElement("select"),divForSelect=document.createElement("div"),optionChoice=["CT","CC","CP"];selectContainerDiv.setAttribute("class","col-md-9 form-inline align-items-start felement"),selectContainerDiv.setAttribute("data-fieldtype","select"),select.setAttribute("class","custom-select"),select.setAttribute("name",target+counterTeachingObjectives+"_"+index),select.setAttribute("id","id_"+target+counterTeachingObjectives+"_"+index);for(var i=0;i<3;i++)select.appendChild(buildOption(i,optionChoice[i]));return divForSelect.setAttribute("class","form-control-feedback invalid-feedback"),divForSelect.setAttribute("id","id_error_"+target+counterTeachingObjectives+"_"+index),selectContainerDiv.appendChild(select),selectContainerDiv.appendChild(divForSelect),selectContainerDiv}("course_learning_objectives_competency_type_",newIndex)),headerDiv.appendChild(linkForCollapseDiv),contentContainer.appendChild(inputDiv),contentContainer.appendChild(selectDiv),collapseDiv.appendChild(contentContainer),courseLearningDiv.appendChild(headerDiv),courseLearningDiv.appendChild(collapseDiv);var buttonElement=buildButtonDiv("remove_learning_objectives_"+containerIndex+"_"+newIndex,0);return rowContainer.appendChild(courseLearningDiv),rowContainer.appendChild(buttonElement),rowContainer}function buildButtonDiv(element,actionType){var colContainer=document.createElement("div"),buttonContainer=document.createElement("div"),buttonSubContainer=document.createElement("div"),buttonElement=document.createElement("button"),iconElement=document.createElement("i");return 0===actionType?(element.includes("learning")?colContainer.setAttribute("class","col-1 remove_learning_action_button"):colContainer.setAttribute("class","col-1 remove_teaching_action_button"),iconElement.setAttribute("class","remove-button-js fa fa-minus-circle fa-2x")):(colContainer.setAttribute("class","col-1 add_action_button"),iconElement.setAttribute("class","add-button fa fa-plus-circle fa-2x")),buttonContainer.setAttribute("id","fitem_id_"+element),buttonSubContainer.setAttribute("data-fieldtype","button"),buttonElement.setAttribute("class","btn ml-0"),buttonElement.setAttribute("name",element),buttonElement.setAttribute("id","id_"+element),buttonElement.setAttribute("type","button"),buttonElement.appendChild(iconElement),buttonSubContainer.appendChild(buttonElement),buttonContainer.appendChild(buttonSubContainer),colContainer.appendChild(buttonContainer),colContainer}function buildTinyMCE(target,teachingIndex){var learningIndex=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,inputContainerDiv=document.createElement("textarea");return inputContainerDiv.setAttribute("class","custom-editor"),learningIndex?(inputContainerDiv.setAttribute("id","id_"+target+teachingIndex+"_"+learningIndex),inputContainerDiv.setAttribute("name",target+teachingIndex+"_"+learningIndex)):(inputContainerDiv.setAttribute("id","id_"+target+teachingIndex),inputContainerDiv.setAttribute("name",target+teachingIndex)),inputContainerDiv}function buildOption(value,text){var option=document.createElement("option");return option.setAttribute("value",value.toString()),option.innerHTML=text,option}function getTeachingTooltip(index){if(0===index){var tooltip=document.getElementById("fitem_id_course_teaching_objectives_0").firstElementChild.firstElementChild.firstElementChild;if(tooltip)cloneTooltipTeachingObjectives=tooltip.cloneNode(!0),document.getElementById("course_teaching_objectives_header_0").appendChild(tooltip)}else{var _teachingObjectiveHeader=document.getElementById("course_teaching_objectives_header_"+index);if(cloneTooltipTeachingObjectives){var currentClone=cloneTooltipTeachingObjectives.cloneNode(!0);_teachingObjectiveHeader.appendChild(currentClone)}}getLearningTooltip(index,0)}function getLearningTooltip(parentIndex,index){if(0===parentIndex&&0===index){var learningObjective=document.getElementById("fitem_id_course_learning_objectives_def_0_0"),teachingObjectiveCompetency=document.getElementById("fitem_id_course_learning_objectives_competency_type_0_0"),learningTooltip=learningObjective.firstElementChild.firstElementChild.firstElementChild,learningTooltipCompetency=teachingObjectiveCompetency.firstElementChild.children[1].firstElementChild;if(learningTooltip)cloneTooltipLearningObjectives=learningTooltip.cloneNode(!0),document.getElementById("course_learning_objectives_header_0_0").appendChild(learningTooltip);learningTooltipCompetency&&(cloneTooltipLearningObjectivesCompetency=learningTooltipCompetency.cloneNode(!0))}else{if(cloneTooltipLearningObjectives){var _learningObjectiveHeader=document.getElementById("course_learning_objectives_header_"+parentIndex+"_"+index),currentClone=cloneTooltipLearningObjectives.cloneNode(!0);_learningObjectiveHeader.appendChild(currentClone)}if(cloneTooltipLearningObjectivesCompetency){var competencyTooltipContainer=document.getElementById("fitem_id_course_learning_objectives_competency_type_"+parentIndex+"_"+index).firstElementChild.children[1],currentComptencyClone=cloneTooltipLearningObjectivesCompetency.cloneNode(!0);competencyTooltipContainer.appendChild(currentComptencyClone)}}}function buildIdHiddenInput(id,text,counter){var parentCounter=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,input=document.createElement("input");if(input.setAttribute("name","course_"+text+"_objectives_"+parentCounter+"_"+counter+"_id_value"),input.setAttribute("value",id),input.hidden=!0,"learning"===text){var elementId="id_course_"+text+"_objectives_def_"+parentCounter+"_"+counter,element=document.getElementById(elementId);element.parentNode.insertBefore(input,element)}else{var _element=document.getElementById("id_course_"+text+"_objectives_"+counter);_element.parentNode.insertBefore(input,_element)}}function waitWithInterval(id,type,toAppend){var element=null,timereditable=setInterval((function(){null!==(element=document.getElementById(id))&&(0===type?element.innerHTML=toAppend:element.value=toAppend,clearInterval(timereditable))}),100)}_exports.initObjectives=function(){document.getElementById("form_container").addEventListener("click",(function(event){if("BUTTON"===event.target.nodeName||"I"===event.target.nodeName&&event.target.parentNode&&"BUTTON"===event.target.parentNode.nodeName){var element=null;if((element="I"===event.target.nodeName?event.target.parentNode:event.target)&&element.id.includes("learning")&&!1===element.hidden){var n=element.id.lastIndexOf("_"),index=element.id.substring(n+1);if(element.id.includes("remove"))removeLearningObjective(element.id.charAt(element.id.length-3),index),event.stopImmediatePropagation();else event.stopImmediatePropagation(),addLearningObjectives(index,!0)}else{if(!element||!element.id.includes("teaching")||!1!==element.hidden)return;element.id.includes("remove")&&(removeTeachingObjective(element.id.charAt(element.id.length-1)),event.stopImmediatePropagation())}}})),document.querySelector("#id_add_teaching_objective").addEventListener("click",(function(event){if("BUTTON"===event.target.nodeName||"I"===event.target.nodeName&&event.target.parentNode&&"BUTTON"===event.target.parentNode.nodeName){event.stopImmediatePropagation();var element=null;(element="I"===event.target.nodeName?event.target.parentNode:event.target)&&element.id.includes("teaching")&&!1===element.hidden&&addTeachingObjectives(!0)}})),(0,_utils.prepareActionButton)([{type:0,id:"teaching_objectives_0"},{type:0,id:"learning_objectives_0_0"},{type:1,id:"teaching_objective"},{type:1,id:"learning_objectives_0"}]),disableTeachingDeleteButton(),disableLearningDeleteButton(),(0,_utils.prepareAccordions)("course_teaching_objectives_container_",1),(0,_utils.prepareAccordions)("course_learning_objectives_subcontainer_",2)};_exports.fillFormObjectives=function(teachingObjectives){getTeachingTooltip(0),teachingObjectives.forEach((function(teachingObjective,i){0===i?(waitWithInterval("id_course_teaching_objectives_0editable",0,teachingObjective.teachingobjective),waitWithInterval("id_course_teaching_objectives_0",1,teachingObjective.teachingobjective)):(null===document.getElementById("id_course_teaching_objectives_"+i)&&addTeachingObjectives(!1),document.getElementById("id_course_teaching_objectives_"+i).value=teachingObjective.teachingobjective);buildIdHiddenInput(teachingObjective.id,"teaching",i),teachingObjective.learningobjectives.forEach((function(learningobjective,j){var learningElementText=null,learningElementCompetency=null;0===j&&0===i?(waitWithInterval("id_course_learning_objectives_def_0_0editable",0,learningobjective.learningobjective),waitWithInterval("id_course_learning_objectives_competency_type_"+i+"_0",1,learningobjective.learningobjectivecompetency),waitWithInterval("id_course_learning_objectives_def_0_0",1,learningobjective.learningobjective),learningElementCompetency=document.getElementById("id_course_learning_objectives_competency_type_"+i+"_0")):i>0&&0===j?(learningElementText=document.getElementById("id_course_learning_objectives_def_"+i+"_"+j),(learningElementCompetency=document.getElementById("id_course_learning_objectives_competency_type_"+i+"_"+j)).value=learningobjective.learningobjectivecompetency,learningElementText.value=learningobjective.learningobjective):(learningElementText=document.getElementById("id_course_learning_objectives_def_"+i+"_"+j),learningElementCompetency=document.getElementById("id_course_learning_objectives_competency_type_"+i+"_"+j),learningElementText&&learningElementCompetency?(learningElementCompetency.value=learningobjective.learningobjectivecompetency,learningElementText.value=learningobjective.learningobjective):(addLearningObjectives(i,!1),learningElementText=document.getElementById("id_course_learning_objectives_def_"+i+"_"+j),(learningElementCompetency=document.getElementById("id_course_learning_objectives_competency_type_"+i+"_"+j)).value=learningobjective.learningobjectivecompetency,learningElementText.value=learningobjective.learningobjective)),learningElementCompetency.selectedIndex=learningobjective.learningobjectivecompetency,buildIdHiddenInput(learningobjective.id,"learning",j,i)}))})),disableTeachingDeleteButton(),disableLearningDeleteButton(),(0,_utils.prepareAccordions)("course_teaching_objectives_container_",1),(0,_utils.prepareAccordions)("course_learning_objectives_subcontainer_",2)}}));

//# sourceMappingURL=objectiveHelper.min.js.map