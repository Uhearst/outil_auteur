{"version":3,"file":"sectionValidator.min.js","sources":["../../src/validator/sectionValidator.js"],"sourcesContent":["import {areIframesEmpty, validateIsEmbed} from \"./validatorUtils\";\nimport {addNotification} from \"../notificationHelper\";\nimport {get_string as getString} from 'core/str';\n\n/**\n *\n */\nexport function validateSectionForm() {\n    document.getElementById('udeh-form').addEventListener(\"submit\", async function(e) {\n        if (e.submitter.id === 'save-button') {\n            e.preventDefault();\n            let areTitlesMissing = await areTitlesFilled();\n            if (!areTitlesMissing) {\n                validateIsEmbed();\n                window.$('#udeh-form').submit();\n            }\n        }\n\n    });\n}\n\nconst areTitlesFilled = async() => {\n    let subQTitles = document.querySelectorAll('[id^=\"id_subquestion_title_\"][id$=\"_ifr\"]');\n\n    let missingTitle = areIframesEmpty(subQTitles);\n\n    if (missingTitle) {\n        addNotification(await getString('notificationerrortitle', 'format_udehauthoring'), 2);\n    }\n\n    return missingTitle;\n};\n"],"names":["document","getElementById","addEventListener","async","e","submitter","id","preventDefault","areTitlesFilled","window","$","submit","subQTitles","querySelectorAll","missingTitle"],"mappings":"wRAQIA,SAASC,eAAe,aAAaC,iBAAiB,UAAUC,eAAeC,MACpD,gBAAnBA,EAAEC,UAAUC,GAAsB,CAClCF,EAAEG,uBAC2BC,0DAGzBC,OAAOC,EAAE,cAAcC,qBAOjCH,gBAAkBL,cAChBS,WAAaZ,SAASa,iBAAiB,6CAEvCC,cAAe,mCAAgBF,mBAE/BE,4DACsB,mBAAU,yBAA0B,wBAAyB,GAGhFA"}