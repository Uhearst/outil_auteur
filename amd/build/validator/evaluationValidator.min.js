define("format_udehauthoring/validator/evaluationValidator",["exports","./validatorUtils","../notificationHelper"],(function(_exports,_validatorUtils,_notificationHelper){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.validateEvaluationDataForm=function(){var length=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;document.getElementById("udeh-form").addEventListener("submit",(function(e){if(e.preventDefault(),null!==length){for(var i=0;i<length;i++)(0,_validatorUtils.validateIsEmbed)(i);0}else(0,_validatorUtils.validateIsEmbed)();window.$("#udeh-form").submit()}))},_exports.validateEvaluationForm=function(){document.getElementById("udeh-form").addEventListener("submit",(function(e){e.preventDefault();var validObj=function(){var isValid=!0,evaluations=document.querySelectorAll('[id^="row_course_evaluation_container_"]'),notCheckedEvaluationsId=[];evaluations.forEach((function(evaluation,index){var hasChecked=!1;document.getElementById("fitem_id_evaluation_learning_objectives_"+index).querySelectorAll('[id^="id_evaluation_learning_objectives_"]').forEach((function(checkbox){checkbox.checked&&(hasChecked=!0)})),hasChecked||notCheckedEvaluationsId.push(index)})),notCheckedEvaluationsId.length>0&&(notCheckedEvaluationsId.forEach((function(notCheckedEvaluationId){if(null===document.getElementById("error_msg_obj_"+notCheckedEvaluationId)){var span=document.createElement("span");span.style.color="red",span.id="error_msg_obj_"+notCheckedEvaluationId,span.style.margin="0 0 0 1rem",span.innerHTML="* Un objectif d'apprentissage est requis",document.getElementById("course_evaluation_content_"+notCheckedEvaluationId).insertBefore(span,document.getElementById("fitem_id_evaluation_learning_objectives_"+notCheckedEvaluationId))}})),isValid=!1);if(isValid){document.querySelectorAll('[id^="error_msg_obj_"]').forEach((function(errorMsg){errorMsg.remove()}))}else(0,_notificationHelper.addNotification)("Vous devez ajouter au moins un objectif d'apprentissage par évaluation",2);return isValid}(),validModules=function(){var isValid=!0,selectedValues=[];if(document.querySelectorAll('[id^="fitem_id_evaluation_module_"]').forEach((function(moduleContainer){var select=moduleContainer.querySelector(".custom-select");selectedValues.push(select.value)})),selectedValues.forEach((function(selectedValue,index){if(selectedValues.filter((function(val){return val===selectedValue})).length>1&&"0"!==selectedValue){if(null===document.getElementById("error_msg_module_"+index)){var span=document.createElement("span");span.style.color="red",span.id="error_msg_module_"+index,span.style.margin="0 0 0.5rem 1rem",span.innerHTML="* Le module doit être unique à chaque évaluation",document.getElementById("course_evaluation_content_"+index).insertBefore(span,document.getElementById("fitem_id_evaluation_module_"+index))}isValid=!1}})),isValid){document.querySelectorAll('[id^="error_msg_module_"]').forEach((function(errorMsg){errorMsg.remove()}))}else(0,_notificationHelper.addNotification)("Le module doit être unique à chaque évaluation",2);return isValid}();validObj&&validModules&&window.$("#udeh-form").submit()}))}}));

//# sourceMappingURL=evaluationValidator.min.js.map