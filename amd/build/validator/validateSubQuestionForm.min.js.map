{"version":3,"file":"validateSubquestionForm.min.js","sources":["../../src/validator/validateSubquestionForm.js"],"sourcesContent":["import {addNotification} from \"../notificationHelper\";\nimport {areIframesEmpty} from \"./validatorUtils\";\nimport {get_string as getString} from 'core/str';\n\n\n/**\n *\n */\nexport const validateSubquestionForm = () => {\n    document.getElementById('udeh-form').addEventListener(\"submit\", async function(e) {\n        if (e.submitter.id === 'save-button') {\n            e.preventDefault();\n            let areTitlesMissing = await areTitlesFilled();\n            if (!areTitlesMissing) {\n                window.$('#udeh-form').submit();\n            }\n        }\n\n    });\n};\n\nconst areTitlesFilled = async() => {\n    let resourceTitles = document.querySelectorAll('[id^=\"id_resource_title_\"][id$=\"_ifr\"]');\n\n    let missingTitle = areIframesEmpty(resourceTitles);\n\n    if (missingTitle) {\n        addNotification(await getString('notificationerrortitle', 'format_udehauthoring'), 2);\n    }\n\n    return missingTitle;\n};"],"names":["document","getElementById","addEventListener","async","e","submitter","id","preventDefault","areTitlesFilled","window","$","submit","resourceTitles","querySelectorAll","missingTitle"],"mappings":"gUAQuC,KACnCA,SAASC,eAAe,aAAaC,iBAAiB,UAAUC,eAAeC,MACpD,gBAAnBA,EAAEC,UAAUC,GAAsB,CAClCF,EAAEG,uBAC2BC,mBAEzBC,OAAOC,EAAE,cAAcC,oBAOjCH,gBAAkBL,cAChBS,eAAiBZ,SAASa,iBAAiB,0CAE3CC,cAAe,mCAAgBF,uBAE/BE,4DACsB,mBAAU,yBAA0B,wBAAyB,GAGhFA"}