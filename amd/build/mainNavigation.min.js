define("format_udehauthoring/mainNavigation",["exports"],(function(_exports){function updateVisibleForm(){let n=window.location.pathname.lastIndexOf("/"),page=window.location.pathname.substring(n+1),anchor=window.location.href.includes("#")?window.location.href.substring(window.location.href.lastIndexOf("#")+1):null;page.includes("course")&&(null===anchor?(hideAllDisplayableElements(),showMask("displayable-form-informations-container")):(hideAllDisplayableElements(),showMask(anchor))),setDirtyForm()}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=function(){updateVisibleForm(),window.addEventListener("hashchange",(function(){updateVisibleForm()}))};const setDirtyForm=()=>{let form=document.querySelector("#udeh-form");form.querySelectorAll("input, textarea, select").forEach((input=>{input.addEventListener("change",(()=>{"true"!==form.dataset.changed&&(form.dataset.changed="true")}))}));let interval=setInterval((function(){form.querySelectorAll("iframe").forEach((iframe=>{let iframeBody=iframe.contentWindow.document.body;iframeBody&&iframeBody.addEventListener("keyup",(()=>{"true"!==form.dataset.changed&&(form.dataset.changed="true")}))})),clearInterval(interval)}),3e3)};function hideAllDisplayableElements(){document.querySelectorAll("[id^='displayable']").forEach((node=>{node.style.display="none"}))}function showMask(id){let node=document.getElementById(id);node&&("block"===node.style.display?node.style.display="none":node.style.display="block")}}));

//# sourceMappingURL=mainNavigation.min.js.map